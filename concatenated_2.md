# quarto-web/docs/manuscripts/authoring/_files.qmd

At its simplest, a Quarto manuscript project has two files:

-   A notebook file where you write your article: `{{< meta tool.article-file >}}`. This file contains:
    -   document metadata, including article front matter (authors, affiliations, etc.) and Quarto options,
    -   the article body, written using special Quarto markdown syntax that allows you to add things like cross references and citations, and
    -   optionally, code, where you control if, or how, the code and its output appear in the article.
-   A configuration file `_quarto.yml` that identifies the project as a Quarto manuscript and controls how your manuscript is put together.

This particular manuscript project includes some other files and folders, you'll learn about these files as you work through this tutorial.



# quarto-web/docs/manuscripts/authoring/_workflow.qmd

The basic workflow for writing a manuscript in Quarto is to make changes to your article content in `{{< meta tool.article-file >}}`, preview the changes with Quarto, and repeat. Let's try it out.

Open a new Terminal in {{< meta tool.name >}} and run:

``` {.bash filename="Terminal"}
quarto preview
```

You'll see some output from Quarto on the Terminal:

``` {.bash filename="Terminal"}
$ quarto preview
Preparing to preview
[1/1] {{< meta tool.article-file >}}

Watching files for changes
Browse at http://localhost:3806/
GET: /
```

And then, a browser window will open with a live preview of the manuscript.

You may find it helpful to move and resize your windows so that {{< meta tool.name >}} and the live preview are side by side.

::: {.content-visible when-meta="tool.is_jupyterlab"}
![](images/jupyter-preview.png){fig-alt="A screenshot of two side by side browser windows. On the left, Jupyter Lab with the Terminal open displaying the command: quarto preview. On the right, a webpage with the address starting localhost:, and content starting with the header La Palma Earthquakes."}
:::

::: {.content-visible when-meta="tool.is_rstudio"}
![](images/rstudio-preview.png){fig-alt="A screenshot of two side by side windows. On the left, RStudio with the Terminal open displaying the command: quarto preview. On the right, a webpage with the address starting localhost:, and content starting with the header La Palma Earthquakes."}
:::

::: {.content-visible when-meta="tool.is_vscode"}
![](images/vscode-preview.png){fig-alt="A screenshot of two side by side windows. On the left, VS Code with the Terminal open displaying the command: quarto preview. On the right, a webpage with the address starting localhost:, and content starting with the header La Palma Earthquakes."}
:::

The contents of the article is generated by `{{< meta tool.article-file >}}`. Go ahead and open this file in {{< meta tool.name >}}. 

::: {.content-visible when-meta="tool.is_jupyterlab"}
![](images/jupyter-notebook.png){fig-alt="A screenshot of two side by side windows. On the left, Jupyter Lab with the file `index.ipynb` open. The first cell begins with a title La Palma Earthquakes. On the right, a webpage with the address starting localhost:, and content starting with the header La Palma Earthquakes."}
:::

You'll dive into the details of this file next, but for now let's make a change and see what happens.

::: {.content-visible when-meta="tool.is_jupyterlab"}
The first cell (starting with "La Palma Earthquakes") is a Markdown cell, enter Edit mode in this cell, and find the line:
:::

::: {.content-visible unless-meta="tool.is_jupyterlab"}
Find the line:
:::

``` yaml
title: La Palma Earthquakes
```

Change the line to:

``` yaml
title: La Palma Earthquake Mechanisms
```

Save the notebook, and you'll see the preview update automatically.

::: {.content-visible when-meta="tool.is_jupyterlab"}
![](images/jupyter-edit-preview.png){fig-alt="Screenshot of two browser windows. On the left, Jupypter Lab with the file index.ipynb open, the first cell in edit mode, and with the text title: La Palma Earthquake Mechanisms. On the right, the article webpage with the title La Palma Earthquake Mechanisms."}

::: callout-tip
If you close the preview accidentally, you can navigate to it again by using the URL from the output in the Terminal, e.g. `http://localhost:3806/`. If you want to stop the preview, hit Crtl + C in the Terminal. You can start the preview again by running `quarto preview`.
:::
:::

::: {.content-visible when-meta="tool.is_rstudio"}
![](images/rstudio-edit.png){fig-alt="Screenshot of two windows. On the left, RStudio IDE with the file index.qmd open, and with the text title: La Palma Earthquake Mechanisms. On the right, the article webpage with the title La Palma Earthquake Mechanisms."}
:::

::: {.content-visible when-meta="tool.is_vscode"}
![](images/vscode-edit.png){fig-alt="Screenshot of two windows. On the left, VS Code with the file index.qmd open, and with the text title: La Palma Earthquake Mechanisms. On the right, the article webpage with the title La Palma Earthquake Mechanisms."}
:::


# quarto-web/docs/manuscripts/authoring/rstudio.qmd

---
title: "Authoring Manuscripts"
tool: 
  name: "RStudio"
  template-repo: "https://github.com/quarto-ext/manuscript-template-rstudio"
  article-file: "index.qmd"
  notebook-file: "explore-earthquakes.qmd"
  is_jupyterlab: false
  is_rstudio: true
  is_vscode: false
---

{{< include _authoring-content.qmd >}}

# quarto-web/docs/manuscripts/authoring/_tables.qmd

Tables can be added inline with what is known as pipe syntax. As an example, in `{{< meta tool.article-file >}}` a table of earthquakes is specified as:

```markdown
| Name                 | Year   |
| -------------------- | ------ |
| Current              | 2021   |
| Teneguía             | 1971   |
| Nambroque            | 1949   |
| El Charco            | 1712   |
| Volcán San Antonio   | 1677   |
| Volcán San Martin    | 1646   |
| Tajuya near El Paso  | 1585   |
| Montaña Quemada      | 1492   |

: Recent historic eruptions on La Palma {#tbl-history}
```

Columns are separated by pipes (`|`), and the dashes (`-`) in the second row separate the header row from the rest of the table. A caption can be provided with a line starting with `:`. A label that can be used for cross references is added at the end of the caption inside curly braces. Like figures, the label prefix `tbl-` is required for cross references, but the suffix is up to you.

::: {.content-visible unless-meta="tool.is_jupyterlab"}
Inserting and editing tables using markdown syntax can be cumbersome. 
The Visual Editor provides tools for editing existing tables, and inserting new tables. Use the Table menu in the visual editor toolbar or right-click inside a table to bring up the options.

::: {.content-visible when-meta="tool.is_rstudio"}
Read more about working with tables in the RStudio Visual Editor at [Editing Tables](/docs/visual-editor/content.html#editing-tables).
:::

:::

You can learn more about tables in Quarto, including an alternative syntax known as grid tables, on the [Tables](/docs/authoring/tables.html) page in the Quarto documentation.


# quarto-web/docs/manuscripts/authoring/_cross-refs.qmd

Quarto can generate cross references that keep track of numbering and linking for you. The general syntax for a cross reference is an `@` followed by a label. For example, to reference the timeline figure, you could write:

``` markdown
@fig-timeline
```

When rendered, cross references include a word to indicate the type of object being referenced, like "Figure" or "Table". So for instance, this line in `{{< meta tool.article-file >}}`:

``` markdown
Eight eruptions have been recorded since the late 1400s (@fig-timeline).
```

Results in the text:

> Eight eruptions have been recorded since the late 1400s (Figure 1).

Where "Figure 1" is also a link to the appropriate figure.

The labels you add to elements must have the appropriate prefix to allow cross referencing:

| Element  | Label Prefix | Rendered Cross Reference |
|----------|--------------|--------------------------|
| Figure   | `fig-`       | Figure 1                 |
| Table    | `tbl-`       | Table 1                  |
| Equation | `eq-`        | Equation 1               |
| Section  | `sec-`       | Section 1                |

You've already seen you can add a label to output generated by code using the `label` code chunk option. You'll see how to add labels to non-code generated elements, like [equations](#equations), [tables](#tables), and [static figures](#static-figures), as you learn about them below.

To cross reference sections your document YAML header must also include:

```yaml
number-sections: true
```

You can add a label to a section heading in curly braces after the heading, e.g:

```markdown
## Data & Methods {#sec-data-methods}
```

You can then reference this section in the text, like:

```markdown
Data and methods are discussed in @sec-data-methods.
```

Which will be rendered as:

> Data and methods are discussed in Section 2.

You can read more about the types of objects that can be referenced, including code listings, and mathematical theorems, as well as some of the options to control how references appear in the Quarto [Cross References](/docs/authoring/cross-references.html) documentation.


::: {.content-visible unless-meta="tool.is_jupyterlab"}

In the Visual Editor, you can use **Insert -> Cross Reference** to get a dialog box with the available labels in your document and quickly generate the syntax needed for a cross reference.
:::


# quarto-web/docs/tools/vscode.qmd

---
title: VS Code
resources:
 - images/vscode-*.png
---

## Overview

Quarto can render Jupyter notebooks represented as plain text (`.qmd`) or as a normal notebook file (`.ipynb`). The [Quarto VS Code Extension](https://marketplace.visualstudio.com/items?itemName=quarto.quarto) includes many tools that enhance working these documents, including:

-   Integrated render and preview for Quarto documents.
-   Syntax highlighting for markdown and embedded languages
-   Completion and diagnostics for YAML options
-   Completion for embedded languages (e.g. Python, R, Julia, etc.)
-   Commands and key-bindings for running cells and selected lines.
-   Live preview for LaTeX math as well as Mermaid and Graphviz diagrams

The Quarto extension integrates directly with the Jupyter, R, and Julia extensions. For example, here the Quarto extension runs a Python cell and shows contextual help for Python functions:

![](/docs/computations/images/python-vscode.png){.border .preview-image fig-alt="Screen shot of VS Code editor with three vertical sections. The leftmost includes the file explorer, and quarto help. The second pane is the source code for a quarto file with python code. The third is interactive with Python running and output of the code cells shown."}

You can install the Quarto extension from the [VS Code Extension Marketplace](https://marketplace.visualstudio.com/items?itemName=quarto.quarto) or the [Open VSX Registry](https://open-vsx.org/extension/quarto/quarto).

## VS Code Editors

Depending on your preference and the task at hand, you can author documents for rendering by Quarto using three different editors within VS Code:

1. The source code editor for editing `.qmd` documents as text.

2. The [Visual Editor](/docs/visual-editor/vscode/index.qmd) for WYSIWYG editing of `.qmd` documents.

3. The [Notebook Editor](/docs/tools/vscode-notebook.qmd) for editing `.ipynb` notebooks.

We'll cover the the source code editor below, however you might also want to consult the documentation for the [Visual Editor](/docs/visual-editor/vscode/index.qmd) or [Notebook Editor](/docs/tools/vscode-notebook.qmd) after you've become familar with the basics.

## Render and Preview

The Quarto VS Code extension includes commands and keyboard shortcuts for rendering Quarto documents (both standalone and within websites or books). After rendering, `quarto preview` is used behind the scenes to provide a preview pane within VS Code alongside your document:

![](images/vscode-render.png){.border fig-alt="Two windows arranged side by side. The window on the left is a qmd file opened in VSCode. The contents of this document are the same as the first part of the Getting Started: Welcome section of this website. The contents of this document are rendered by Quarto in the window on the right."}

To render and preview, execute the **Quarto: Preview** command. You can alternatively use the <kbd>Ctrl+Shift+K</kbd> keyboard shortcut, or the **Preview** button at the top right of the editor:

![](images/vscode-preview-button.png){.border fig-alt="The top of the Visual Studio code editor. The right side of the editor tab area includes a Preview button."}

::: {.callout-note appearance="simple"}
Note that on the Mac you should use `Cmd` rather than `Ctrl` as the prefix for all Quarto keyboard shortcuts.
:::

### Other Formats

The **Quarto: Preview** command renders the default format of the currently active document. If you want to preview a different format, use the **Quarto: Preview Format** command:

![](images/vscode-preview-format-menu.png){.border fig-alt="The top of the Visual Studio code editor. The editor title menu is expanded and the Preview Format command is available on the menu."}

When you execute **Preview Format**, you'll see a quick pick list of formats to choose from (any formats declared in the document as well as some standard formats like PDF and MS Word):

![](images/vscode-preview-format.png){.border fig-alt="The top of the Visual Studio code editor. The command pallette shows a quick pick list of available formats to preview."}

After previewing a different format, the **Quarto: Preview** command and <kbd>Ctrl+Shift+K</kbd> keyboard shortcut will be automatically rebound to the newly selected format for the duration of the current preview. To switch back to previewing the original format, use  **Quarto: Preview Format** command again.

::: {.callout-note appearance="simple"}
Embedded preview is currently supported for HTML and PDF based formats (including `revealjs` and `beamer` slideshows). However, for Word and other formats you need to use an appropriate external program to preview the output.
:::

### Render Command

The **Quarto: Preview** command is what you will most commonly use while authoring documents. If you have a single format (e.g. HTML or PDF) then previewing also renders your document so it's ready for distribution once you are happy with the output. However, if you have multiple formats will need to explicitly render them (as preview only renders a single format at a time). You can do this with the **Quarto: Render Document** command:

![](images/vscode-render-command.png){.border fig-alt="The top of the Visual Studio code editor. The command pallette shows a quick pick list of available formats to render."}

If you have multiple declared formats you can render all of them. You can also selectively render any of the declared formats or other standard formats like PDF and MS Word.

## Render on Save

By default Quarto does not automatically render `.qmd` or `.ipynb` files when you save them. This is because rendering might be very time consuming (e.g. it could include long running computations) and it's good to have the option to save periodically without doing a full render.

However, you can configure the Quarto extension to automatically render whenever you save. You can do this either within VS Code settings or within the YAML options for your project or document. To configure the VS Code setting, search for `quarto.render` in settings and you'll find the **Render on Save** option:

![](images/vscode-render-on-save.png){.border fig-alt="The Visual Studio Code Quarto render settings. The Render on Save option is checked."}

You might also want to control this behavior on a per-document or per-project basis. If you include the `editor: render-on-save` option in your document or project YAML it will supersede whatever your VS Code setting is. For example:

``` yaml
editor:
  render-on-save: true
```

## External Preview

If you prefer to use an external browser for preview (or have no preview triggered at all by rendering) you can use the **Preview Type** option to specify an alternate behavior:

![](images/vscode-preview-settings.png){.border fig-alt="VS Code settings interface with 'quarto preview type' entered into the search bar. User settings reveals Quarto > Render: Preview Type, with a dropdown to select location for document preview after render. The default, internal, is selected, which previews using a side-by-side panel in VS Code. The other two options in the dropdown are external and none."}

## Code Cells

There are a variety of tools that make it easier to edit and execute code cells. Editing tools include syntax highlighting, code folding, code completion, and signature tips:

![](images/vscode-code-cell.png){.border fig-alt="A Quarto document in VS Code with a python code cell. There is a code completion helper active in the python cell."}

For Python, R, and Julia cells, commands are available to execute the current cell, previous cells, or the currently selected line(s). Cell output is shown side by side in the Jupyter interactive console:

![](images/vscode-execute-cell.png){.border fig-alt="VS Code with two panes open, vscode.qmd source code on the right, and the interactive output of that code shown in a second pane on the left."}

Here are all of the commands and keyboard shortcuts available for executing cells:

| Quarto Command       | Keyboard Shortcut   |
|----------------------|---------------------|
| Run Current Cell     | <kbd>⇧⌘ Enter</kbd> |
| Run Selected Line(s) | <kbd>⌘ Enter</kbd>  |
| Run Next Cell        | <kbd>⌥⌘ N</kbd>     |
| Run Previous Cell    | <kbd>⌥⌘ P</kbd>     |
| Run All Cells        | <kbd>⌥⌘ R</kbd>     |
| Run Cells Above      | <kbd>⇧⌥⌘ P</kbd>    |
| Run Cells Below      | <kbd>⇧⌥⌘ N</kbd>    |

You can quickly insert a new code cell using the <kbd>Ctrl+Shift+I</kbd> keyboard shortcut.

Enhanced features for embedded languages (e.g. completion, code execution) can be enabled by installing the most recent version(s) of these extensions:

-   [Python Extension](https://marketplace.visualstudio.com/items?itemName=ms-python.python)
-   [R Extension](https://marketplace.visualstudio.com/items?itemName=Ikuyadeu.r)
-   [Julia Extension](https://marketplace.visualstudio.com/items?itemName=julialang.language-julia)

### Execution Directory

Embedded language extensions handle the working directory for execution in distinct ways:

1. The Python Extension runs code within the directory of the source file from which code is executed. You can customize this behavior using the `jupyter.notebookFileRoot` option.

2. The R Extension runs code within the working directory of the R session running in the **R Interactive** terminal. You can change this directory manually using `setwd()`.

3. The Julia Extension runs code within the working directory of the Julia session running in the **Julia REPL** terminal. You can change this direcdtory manually using `cd()`.


## Contextual Assistance

Execute the **Quarto: Show Assist Panel** command to show a panel in the sidebar that shows contextual assistance depending on the current cursor location:

1)  Help/documentation is shown when editing code
2)  A realtime preview of equations is shown when editing LaTeX math
3)  Thumbnail previews are shown when your cursor is located on a markdown image.

For example, below help on the matplotlib `plot()` function is shown automatically when the cursor is located on the function:

![](/docs/computations/images/python-vscode.png){.border fig-alt="Screenshot of VS Code editor with three vertical sections. The leftmost includes the file explorer, and quarto help. The second pane is the source code for a quarto file with python code. The third is interactive with Python running and output of the code cells shown."}

## Live Preview

While editing LaTeX math or Mermaid and Graphviz diagrams, click the **Preview** button above the code (or use the <kbd>Ctrl+Shift+L</kbd> keyboard shortcut) to open a live preview which will update automatically as you edit.

Here we see a preview of the currently edited LaTeX equation displayed in the Quarto assist panel:

![](images/vscode-equation.png){.border fig-alt="Quarto document open in VS Code with a LaTeX equation shown in the 'Quarto Equation' section of the panel to the left of the document."}

Here we see a Graphviz diagram preview automatically updated as we edit:

![](/docs/authoring/images/vscode-graphviz.gif){.border fig-alt="A Quarto document being edited in Visual Studio Code, with a live preview of the currently edited diagram shown in a pane to the right"}

## YAML Intelligence

YAML code completion is available for project files, YAML front matter, and executable cell options:

![](images/vscode-yaml-completion.png){.border fig-alt="Quarto document with YAML being edited. Next to the cursor code completion helper is open showing YAML options beginning with the letters preceding the cursor ('co')."}

If you have incorrect YAML it will also be highlighted when documents are saved:

![](images/vscode-yaml-diagnostics.png){.border fig-alt="Quarto document YAML metadata with an incorrect option underlined in red."}

## Code Snippets

Code snippets are templates that make it easier to enter repeating code patterns (e.g. code blocks, callouts, divs, etc.). Execute the **Insert Snippet** command within a Quarto document to insert a markdown snippet:

![](images/vscode-snippets.png){.border fig-alt="Quarto document with dropdown 'Select a snippet' dropdown, the first item (bold - insert bold text) is selected."}

### IntelliSense

VSCode uses IntelliSense to suggest snippets or possible values for a specific function while typing. This is turned off by default for snippets, but not for values. To enable snippet suggestions in IntelliSense while typing or when selecting a text snippet and pressing `ctrl+space`, the setting `editor.snippetSuggestions` needs to be set to a value other than `none` (for example to `inline`).

-   Press `F1` and search for `Preferences: Open Settings (UI)` or `File` \> `Preferences` \> `Settings`
-   Search for following term `@lang:quarto editor.snippetSuggestions`. `Editor: Snippet Suggestions` should show up.
-   Change value to a not-`none` value.

## Document Navigation

If you have a large document use the outline view for quick navigation between sections:

![](images/vscode-outline.png){.border fig-alt="Quarto document with outline view shown in left-hand panel. The outline shows the section headers of the quarto documents."}

You can also use the **Go to Symbol in Editor** command or keyboard shortcut <kbd>Ctrl+Shift+O</kbd> for type-ahead navigation of the current document's outline.

Use the **Go to File** command <kbd>Ctrl+P</kbd> to navigate to other files and the **Go to Symbol in Workspace** command <kbd>Ctrl+T</kbd> for type-ahead navigation to all headings in the workspace:

![](images/vscode-workspace-symbols.png){.border fig-alt="Quarto document in VS Code with command palette open showing the files in the project with the entered term, 'margin'."}

## Learning More

Besides the traditional source editor described above, you can also use one of the following other editors depending on your preferences and task at hand:

1. The [Visual Editor](/docs/visual-editor/vscode/index.qmd) for WYSIWYG editing of `.qmd` documents.

2. The [Notebook Editor](/docs/tools/vscode-notebook.qmd) for editing `.ipynb` notebooks.


# quarto-web/docs/tools/text-editors.qmd

---
title: "Text Editors"
---

## Overview

If you are editing plain markdown documents (with no embedded computations) you may want to use your favorite text editor (Vim, Emacs, Sublime, etc.) to author Quarto documents. This articles provides some guidance on the optimal workflow when using text editors with Quarto.

Note that if you are using either the [Jupyter](https://jupyter.org/) or [Knitr](https://yihui.org/knitr/) computational engine you will likely be better off using [JupyterLab](jupyter-lab.qmd) or [VS Code](vscode.qmd) (for .ipynb notebooks) or [RStudio](rstudio.qmd) (for .qmd documents) as these environments provide code-completion, incremental cell execution, and other useful tools for working with executable code.

## Workflow

The ideal workflow for authoring Quarto markdown documents is to run the `quarto preview` command from within a terminal:

```{.bash filename="Terminal"}
quarto preview document.qmd
```

The document will be rendered and a web browser with a "live preview" opened. Position this browser so that you can see it as you edit and save the document:

![](images/vim-preview.png){fig-alt="Two application windows arranged side by side. A Quarto document that contains the contents of the Welcome page of this website is open on the right. The contents of this document are rendered in a web browser by Quarto in the window on the right."}

Every time you save the preview will be automatically updated. You can use `quarto preview` for both HTML and PDF output.

Preview uses the default format specified within the document---to use an alternate format pass the `--to` option to `quarto preview`. For example:

```{.bash filename="Terminal"}
quarto preview notebook.qmd --to pdf
```

::: {.callout-note appearance="simple"}
Note that if you are authoring a book or website you can also use [`quarto preview`](../websites/website-basics.qmd#workflow) on the project directory, which will create a live preview for the entire project.
:::

#### Render without Preview

You can render a document (or group of documents) without previewing them using the `quarto render` command:

```{.bash filename="Terminal"}
quarto render document.qmd
```

Use the `--to` argument to render to a specific format:

```{.bash filename="Terminal"}
quarto render document.qmd --to docx
```

### File Extension

Most text editors have a syntax highlighting mode that applies to markdown files (typically with the `.md` extension). You will likely want to configure your editor to also recognize the `.qmd` extension as having markdown content.


# quarto-web/docs/tools/jupyter-lab.qmd

---
title: JupyterLab
format: html
---

## Overview

Quarto can render Jupyter notebooks represented as plain text (.qmd) or as a normal notebook file (.ipynb). One benefit of using .ipynb is that you can use [JupyterLab](https://jupyterlab.readthedocs.io/en/stable/) as your editor.

Here is the "Hello, Quarto" example from the homepage inside JupyterLab:

![](images/jupyter-lab.png){.border .preview-image fig-alt="A Jupyter notebook with, from top to bottom, some yaml frontmatter, a section heading, a code block, and the output of the code block. The contents are the same as the first part of the 'Welcome' page of this website."}

If you look at the source code you'll note that YAML options were provided both at the top of the document and within the code cell. We'll describe working with YAML options in more detail below.

## Workflow

The ideal workflow for authoring Quarto notebooks in JupyterLab is to run the `quarto preview` command from within a terminal:

```{.bash filename="Terminal"}
quarto preview notebook.ipynb
```

The notebook will be rendered and a web browser with a "live preview" opened. Position this browser so that you can see it as you edit and save the notebook:

![](images/jupyterlab-preview.png){fig-alt="Two web browser windows arranged side by side. The window on the left is a JupyterLab window. The contents of this Jupyter document are rendered by Quarto in the window on the right."}

Every time you save within JupyterLab the preview will be automatically updated. You can use `quarto preview` for both HTML and PDF output.

In the screenshot above you'll note that we ran `quarto preview` inside a JupyterLab terminal window---this is generally recommended so that you can see progress and error messages when renders occur.

Preview uses the default format specified within the document---to use an alternate format pass the `--to` option to `quarto preview`. For example:

```{.bash filename="Terminal"}
quarto preview notebook.ipynb --to pdf
```

::: {.callout-note appearance="simple"}
Note that if you are authoring a book or website you can also use [`quarto preview`](../websites/website-basics.qmd#workflow) on the project directory, which will create a live preview for the entire project.
:::

#### Running JupyterLab {.platform-table}

To run JupyterLab, invoke the `jupyter` module from within the shell where you are using Quarto:

+--------------+--------------------------------------+
| Platform     | Command                              |
+==============+======================================+
| Mac/Linux    | ```{.bash filename="Terminal"}       |
|              | python3 -m jupyter lab               |
|              | ```                                  |
+--------------+--------------------------------------+
| Windows      | ```{.powershell filename="Terminal"} |
|              | py -m jupyter lab                    |
|              | ```                                  |
+--------------+--------------------------------------+

#### Render without Preview

You can render a notebook (or group of notebooks) without previewing them using the `quarto render` command:

```{.bash filename="Terminal"}
quarto render notebook.ipynb
```

Use the `--to` argument to render to a specific format:

```{.bash filename="Terminal"}
quarto render notebook.ipynb --to docx
```

Note that the target file (in this case `notebook.ipynb`) should always be the very first command line argument.

#### JupyterLab Extension

The Quarto JuptyerLab extension enables JupyterLab Notebooks which use Quarto markdown to properly display the contents of the markdown cells. For example, when the Quarto JupyterLab extension is installed, your Notebook will show rendered previews of elements like Callouts, Divs, Mermaid charts, as well as other Quarto elements (including the document front matter as a title block).

You can read more about installing the extension in the [Quarto JupyterLab Extension](/docs/tools/jupyter-lab-extension.qmd) documentation.

## YAML Front Matter

The first cell of your notebook should be a **Raw** cell that contains the document title, author, and any other options you need to specify. Note that you can switch the type of a cell to **Raw** using the notebook toolbar:

![](images/jupyter-lab-yaml.png){.border fig-alt="The top section of a JupyterLab document. There is a Raw cell containing yaml front matter."}

In this example we specify that we want code to appear collapsed by default. There are YAML options to control many other aspects of document rendering. See the documentation on [Authoring](../authoring/markdown-basics.qmd) and [Output Formats](../output-formats/html-basics.qmd) for additional details.

## Markdown Cells

Here's the underlying code for the markdown cell:

![](images/jupyter-lab-markdown.png){.border fig-alt="A snippet of a JupyterLab document containing a Markdown cell. The cell contains some text written in Markdown."}

Note that a Quarto cross-reference (`@fig-polar`) is included in the markdown. Any valid Pandoc markdown syntax can be included in markdown cells.

## Output Options

Quarto uses leading comments with a special prefix (`#|`) to denote cell options. Here we specify the `label` and `fig-cap` options so that the plot generated from the cell can be cross-referenced.

![](images/jupyter-lab-output-options.png){fig-alt="A snippet of a JupyterLab document containing a code cell. At the top of cell, before the code, are the Quarto chunk options '#| label: fig-polar' and '#| fig-cap: A line plot on a polar axis.'"}

Note that options must appear at the very beginning of the cell. As with document front-matter, option names/values use YAML syntax.

There are many output options available, including options to optionally hide code, warnings, and/or output. See the documentation on [Output Options](../computations/execution-options.qmd#output-options) for additional details.

## Cell Execution

{{< include ../computations/_jupyter-execute.md >}}


There are many other execution options available (e.g. to control caching, optimizing kernel start-up time, etc.). Learn more about these options in [Execution Options](../computations/execution-options.qmd).

## Plain Text Editing

It's also possible to edit Jupyter notebooks in a plain-text markdown format. You might prefer this if there is more narrative than code in your notebook or if you want to use a file format that is more version control friendly.

Here is the plain text markdown version of the notebook used in the previous examples:

    ---
    title: "Matplotlib Demo"
    author: "Norah Smith"
    date: "5/22/2021"
    format: 
      html:
        code-fold: true
    jupyter: python3
    ---

    ## Polar Axis

    For a demonstration of a line plot on a polar axis, see @fig-polar.

    ```{{python}}
    #| label: fig-polar
    #| fig-cap: "A line plot on a polar axis"

    import numpy as np
    import matplotlib.pyplot as plt

    r = np.arange(0, 2, 0.01)
    theta = 2 * np.pi * r
    fig, ax = plt.subplots(subplot_kw={'projection': 'polar'})
    ax.plot(theta, r)
    ax.set_rticks([0.5, 1, 1.5, 2])
    ax.grid(True)
    plt.show()
    ```

Note that we've added the `jupyter: python3` option to the YAML front matter to indicate which Jupyter kernel to render with. You would render this document with:

```{.bash filename="Terminal"}
quarto render basics-jupyter.qmd
```

Markdown files with embedded code chunks should use the file extension `.qmd`.

::: callout-tip
If you are doing most of your work in .qmd files you should consider using RStudio, which includes full support for editing .qmd files that use Python and Jupyter (including code completion, cell-at-a-time execution, and side-by-side preview). See the article on using [RStudio](rstudio.qmd) for additional details.
:::

#### Converting Notebooks

You can convert between .ipynb and .qmd representations of a notebook using the `quarto convert` command. For example:

```{.bash filename="Terminal"}
quarto convert basics-jupyter.ipynb # converts to qmd
quarto convert basics-jupyter.qmd   # converts to ipynb
```

See `quarto convert help` for additional details on converting notebooks.

#### Jupytext

You can use Jupytext to maintain parallel synchronized versions of `.qmd` and `.ipynb` files. Learn more about Jupytext at <https://jupytext.readthedocs.io/en/latest/>.


# quarto-web/docs/tools/_jupyter-lab-extension-install.qmd

Installation depends on which version of JupyterLab you have:

::: panel-tabset
## JupyterLab 4

You can install the Quarto JupyterLab extension one of two ways:

1.  **In the JupyterLab UI**: Search for 'Quarto' in the Extension Manager and install the `jupyterlab-quarto` extension. You'll be prompted to refresh the page when complete.

    ![](images/jupyterlab-extension.png){.border width="50%" fig-alt="Screenshot of the Jupyter Lab Extension Manager with 'quarto' typed in the search box, and one Search Result with the name 'jupyterlab-quarto'."}

2.  **Using `pip`**: 

    +----------------+--------------------------------------------------+
    | Platform       | Commands                                         |
    +================+==================================================+
    | Mac/Linux      | ``` {.bash filename="Terminal"}                  |
    |                | python3 -m pip install jupyterlab-quarto         |
    |                | ```                                              |
    +----------------+--------------------------------------------------+
    | Windows        | ``` {.powershell filename="Terminal"}            |
    |                | py -m pip install jupyterlab-quarto              |
    |                | ```                                              |
    +----------------+--------------------------------------------------+

## JupyterLab 3

You can install the Quarto JupyterLab extension one of two ways:

1.  Using `pip`, you can install the `jupyterlab-quarto` by executing:

    +----------------+---------------------------------------------------+
    | Platform       | Commands                                          |
    +================+===================================================+
    | Mac/Linux      | ``` {.bash filename="Terminal"}                   |
    |                | python3 -m pip install jupyterlab-quarto==0.1.45  |
    |                | ```                                               |
    +----------------+---------------------------------------------------+
    | Windows        | ``` {.powershell filename="Terminal"}             |
    |                | py -m pip install jupyterlab-quarto==0.1.45       |
    |                | ```                                               |
    +----------------+---------------------------------------------------+

    This is the preferred way to install the JupyterLab Quarto extension as this takes advantage of traditional python packaging and doesn't require a rebuild of JupyterLab to complete the installation.

2.  In the JupyterLab UI, you can install the Quarto extension directly using the Extension Manager by searching for 'Quarto' and installing the `@quarto/jupyterlab-quarto` extension. To complete the installation you need to rebuild JupyterLab (you should see a prompt to complete this once you've installed the Quarto extension).

:::


# quarto-web/docs/tools/vscode-notebook.qmd

---
title: VS Code Notebook Editor
---

In addition to editing Quarto documents as plain-text `.qmd` files, you can also use the VS Code Notebook Editor to author `.ipynb` notebooks that are rendered with Quarto. In this article we'll review the basics of editing `.ipynb` notebooks for use with Quarto.


## Render and Preview

The basic workflow for editing notebooks for use with Quarto is identical to the workfow for `.qmd` files. Edit the file and then execute the **Quarto: Preview** command (you can alternatively use the <kbd>Ctrl+Shift+K</kbd> keyboard shortcut). You'll see a preview of the published page side by side with the notebook:

![](images/vscode-notebook.png){.border}

After you've done an initial **Quarto: Preview**, the preview will automatically update every time you save the notebook.

## YAML Front Matter

The first cell of your notebook should be a **Raw** cell that contains the document title, author, and any other options you need to specify. Note that you can switch the type of a cell to **Raw** using the cell type menu at the bottom right of the cell:

![](images/vscode-raw.png){.border fig-alt="The top section of an ipynb file open in VSCode. There is a Raw cell containing yaml front matter."}

In this example we specify that we want code to appear collapsed by default. There are YAML options to control many other aspects of document rendering. See the documentation on [Authoring](../authoring/markdown-basics.qmd) and [Output Formats](../output-formats/html-basics.qmd) for additional details.

## Markdown Cells

Here's the underlying code for the markdown cell:

![](images/vscode-markdown.png){.border fig-alt="A snippet of an ipynb document containing a Markdown cell. The cell contains some text written in Markdown."}

Note that a Quarto cross-reference (`@fig-polar`) is included in the markdown. Any valid Pandoc markdown syntax can be included in markdown cells.

## Output Options

Quarto uses leading comments with a special prefix (`#|`) to denote cell options. Here we specify the `label` and `fig-cap` options so that the plot generated from the cell can be cross-referenced.

![](images/vscode-cell-options.png){.border fig-alt="A snippet of a JupyterLab document containing a code cell. At the top of cell, before the code, are the Quarto chunk options '#| label: fig-polar' and '#| fig-cap: A line plot on a polar axis.'"}

Note that options must appear at the very beginning of the cell. As with document front-matter, option names/values use YAML syntax.

There are many output options available, including options to optionally hide code, warnings, and/or output. See the documentation on [Output Options](../computations/execution-options.qmd#output-options) for additional details.

## Cell Execution

{{< include ../computations/_jupyter-execute.md >}}

There are many other execution options available (e.g. to control caching, optimizing kernel start-up time, etc.). Learn more about these options in [Execution Options](../computations/execution-options.qmd).

## Converting Notebooks

You can convert between .ipynb and .qmd representations of a notebook using the `quarto convert` command. For example:

``` {.bash filename="Terminal"}
quarto convert basics-jupyter.ipynb
quarto convert basics-jupyter.qmd
```

See `quarto convert help` for additional details on converting notebooks.


# quarto-web/docs/tools/neovim.qmd

---
title: Neovim
resources:
 - images/neovim-*.png
---

## Overview

The Quarto Neovim plugin aims to not reinvent the wheel.
Existing plugins in the Neovim ecosystem are leveraged to provide the full experience.
Some of the features provided by [quarto-nvim](https://github.com/quarto-dev/quarto-nvim) and enhanced by plugins found in the [kickstarter configuration](https://github.com/jmbuhr/quarto-nvim-kickstarter) are:

-   Preview for Quarto documents.
-   Syntax highlighting for markdown and embedded languages
-   Completion for embedded languages (e.g. Python, R, Julia, etc.)
-   Commands and key-bindings for running cells and selected lines.
-   Completion for bibliography references, file paths, LaTeX math symbols, emoji.
-   Optional spellchecking and completion.
-   Code snippets.
-   Export of code chunks into standalone scripts.

![](./../get-started/hello/images/neovim-overview.png){.border fig-alt="Three windows arranged side by side. The window on the left is a qmd file opened in Neovim. The upper window on the right is a web browser. The contents of the qmd document are rendered by Quarto in the browser window. The third window is a rendered graph showing the output of executing a code chunk in the qmd file."}

More [screenshots](https://github.com/jmbuhr/quarto-nvim-kickstarter#screenshots)

### Installation

Installation instructions for the quarto plugin and the kickstarter configuration can be found in the respective readme files of the repository:

- [quarto-nvim](https://github.com/quarto-dev/quarto-nvim)
- [quarto-nvim-kickstarter](https://github.com/jmbuhr/quarto-nvim-kickstarter)

## Render and Preview

To render and preview, execute the **QuartoPreview** command by pressing `:` to enter command mode and typing the command (there is autocompletion if you press the <kbd>tab</kbd> key).
In the kickstarter configuration, there are more shortcuts starting with <kbd>space q</kbd> (spacebar followed by q, in normal mode).

After running the `QuartoPreview` command in Neovim, the preview will automatically update each time the buffer is saved.

## Running Code Cells

{{< include ../get-started/hello/_neovim-running-cells.md >}}

Here are all of the commands and keyboard shortcuts available for executing cells:

| Quarto Command       | Keyboard Shortcut   |
|----------------------|---------------------|
| Create new terminal  | <kbd>space c _x_</kbd><br> where _x_ is the starting letter of python, r, ipython, julia or bash  |
| Choose terminal      | <kbd>space c c</kbd> |
| Show terminal id     | <kbd>space c s</kbd> |
| Run Current Cell     | <kbd>space Enter</kbd> |
| Run Current Cell     | <kbd>ctrl Enter</kbd> (insert or normal mode)^[if your terminal emulator supports this, see [Running Cells](../get-started/hello/neovim.qmd#running-cells)] |
| Run Selected Line(s) | <kbd>Enter</kbd> (visual mode) |

Note that you can quickly insert a new code cell using the <kbd>Alt+I</kbd> and <kbd>Alt+Shift+I</kbd> keyboard shortcuts, the first being an R and the second being a python code chunk.
Feel free to change this from the kickstarter configuration depending on your most-used language.

## Contextual Assistance

In a code chunk you get autocompletion for the respective language.
Use <kbd>Tab</kbd> and <kbd>Shift+Tab</kbd> to iterate through the suggestions^[or set your own keybindings for it [here](https://github.com/jmbuhr/quarto-nvim-kickstarter/blob/main/lua/plugins/completion.lua)].

![](./images/neovim-code-completion.png)

::: {.callout-note}
The otter in the completion list means that the completion plugin [cmp](https://github.com/hrsh7th/nvim-cmp) got it's completion suggestions from the [otter.nvim](https://github.com/jmbuhr/otter.nvim) plugin, which keeps track of the code in your Quarto document behind the scenes by writing only the code parts to another (an otter) document.
:::

## Code Snippets

Code snippets are templates that make it easier to enter repeating code patterns (e.g. code blocks, callouts, divs, etc.).
You will find them in the autocompletion list and can trigger them with enter.
Sometimes they contain multiple places within the snippet where the cursor can jump to.
Use <kbd>ctrl+n</kbd> to jump to the next site.

For example, we might want to create a two column layout, so we type `col2` and accept the suggestion with <kbd>Enter</kbd> to get

```
::: {layout-ncol=2}

:::
```

If you find other helpful snippets, feel free to add a pull request to extend the ones included in the kickstarter configuration [snippet list](https://github.com/jmbuhr/quarto-nvim-kickstarter/blob/main/snips/snippets/markdown.json).

## Document Navigation

Vim is famously good at letting you navigate documents quickly.
Here, we only have a look at some additional features provided by quarto-nvim.
For the full range of options, refer to the documentation of vim/neovim and of the plugins included in the kickstarter configuration.

- Press <kbd>space l o</kbd> to toggle a section overview
- Navigate to the next code chunk with <kbd>[c</kbd> or the previous one with <kbd>]c</kbd>
- Delete/Change/Yank the code of a chunk with <kbd>dio</kbd>/<kbd>cio</kbd>/<kbd>yio</kbd>
- Delete/Change/Yank a whole code chunk with it's delimiters with <kbd>dao</kbd>/<kbd>cao</kbd>/<kbd>yao</kbd>

Take a look at the files of the kickstarter configuration for more inspiration.

## Extending Quarto: Lua Development in Neovim

Since Lua is already the language used to configure Neovim and the kickstarter configuration installs the Lua Language Server, code completion and diagnostics will be enabled for Quarto [extension development](/docs/extensions/index.qmd). 



# quarto-web/docs/tools/jupyter-lab-extension.qmd

---
title: JupyterLab Extension
format: html
---

## Overview

The Quarto JuptyerLab extension enables JupyterLab Notebooks which use Quarto markdown to properly display the contents of the markdown cells. For example, when the Quarto JupyterLab extension is installed, your Notebook will show rendered previews of elements like Callouts, Divs, Mermaid charts, as well as other Quarto elements (including the document front matter as a title block).

:::{style="text-align: center;"}
![](images/jupyter-lab-extension.png){.border width="50%"}
:::

## Installing the Extension

{{< include _jupyter-lab-extension-install.qmd >}}

## Using the Extension

The Quarto extension, once installed, will automatically render the contents of markdown cells within your notebook. Cells without Quarto specific markdown will render normally, while cells containing Quarto specific markdown will show a preview of the content in a more usable form.

::: callout-note
The Quarto contents shown in your Notebooks will not match the rendered output precisely. For example, callouts shown in the Notebook don't change their display based upon callout options you specify in your markdown.
:::

## Disabling the Extension

1.  If you installed the Quarto JupyterLab extension using `pip`, you can use the following commands to disable and enable the extension.

    To disable extension, use the following command:

    +---------------+-----------------------------------------------------------+
    | Platform      | Commands                                                  |
    +===============+===========================================================+
    | Mac/Linux     | ```{.bash filename="Terminal"}                            |
    |               | python3 -m jupyter labextension disable jupyterlab-quarto |
    |               | ```                                                       |
    +---------------+-----------------------------------------------------------+
    | Windows       | ```{.powershell filename="Terminal"}                      |
    |               | py -m jupyter labextension disable jupyterlab-quarto      |
    |               | ```                                                       |
    +---------------+-----------------------------------------------------------+

    To enable the extension, use the following command:

    +----------------+----------------------------------------------------------+
    | Platform       | Commands                                                 |
    +================+==========================================================+
    | Mac/Linux      | ```{.bash filename="Terminal"}                           |
    |                | python3 -m jupyter labextension enable jupyterlab-quarto |
    |                | ```                                                      |
    +----------------+----------------------------------------------------------+
    | Windows        | ```{.powershell filename="Terminal"}                     |
    |                | py -m jupyter labextension enable jupyterlab-quarto      |
    |                | ```                                                      |
    +----------------+----------------------------------------------------------+

2.  If you installed the Quarto JupyterLab extension using the JupyterLab Notebook Extension Manager, you can use the UI directly to disable and enable the extension.

## Uninstalling the Extension

1.  If you installed the extension using `pip`, you can uninstall the Quarto extension using `pip`, like so:

    +----------------+------------------------------------------------+
    | Platform       | Commands                                       |
    +================+================================================+
    | Mac/Linux      | ```{.bash filename="Terminal"}                 |
    |                | python3 -m pip uninstall jupyterlab-quarto     |
    |                | ```                                            |
    +----------------+------------------------------------------------+
    | Windows        | ```{.powershell filename="Terminal"}           |
    |                | py -m pip uninstall jupyterlab-quarto          |
    |                | ```                                            |
    +----------------+------------------------------------------------+

2.  If you installed the extension using the JupyterLab Notebook Extension Manager, use the Extension Manager to uninstall the extension. To complete the uninstallation you need to rebuild JupyterLab (you should see a prompt to complete this once you've uninstalled the Quarto extension).

## Reporting Issues

Please report issues with the Quarto JuptyerLab extension [here](https://github.com/quarto-dev/quarto/issues/new).


# quarto-web/docs/tools/rstudio.qmd

---
title: RStudio IDE
---

## Overview

{{< include _rstudio.md >}}


## Visual Editor

RStudio IDE includes a visual editor for Quarto markdown, including support for tables, citations, cross-references, footnotes, divs/spans, definition lists, attributes, raw HTML/TeX, and more:

[![](../visual-editor/images/visual-editing.png){fig-alt="An RMarkdown file opened in the RStudio visual editor. The page is titled 'Filter joins'. Underneath is a table containing R syntax, mathematical notation, and definitions for the semi- and anti-joins. Underneath this table is an R code chunk that displays a graphical representation of a semi-join."}](../visual-editor/index.qmd)

To learn more, see the documentation on [Using the Visual Editor](../visual-editor/index.qmd) with RStudio.

## Knitr Engine

Quarto is designed to be highly compatible with existing [R Markdown](https://rmarkdown.rstudio.com/) documents. You should generally be able to use Quarto to render any existing Rmd document without changes.

{{< include _chunk-options.md >}}


## Jupyter Engine

You can also work with Quarto markdown documents that target the Jupyter engine within RStudio. These files will typically include a `jupyter` option in the YAML front matter indicating which kernel to use. For example:

``` yaml
---
title: "Matplotlib Demo"
author: "Norah Smith"
jupyter: python3
---
```

If you want to work within a virtual environment ([venv](https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#creating-a-virtual-environment)), use the **File :** **New Project...** command, specify the **Jupyter** engine with a venv, and specify which packages you'd like to seed the venv with:

![](images/rstudio-new-jupyter-project.png){fig-alt="A section of the 'New Project Wizard' menu from Rstudio. This section is titled 'Create Quarto Project'. The Quarto logo is displayed on the left. ON the right are fields for 'Type', 'Directory name', and 'Create project as subdirectory of:'. Underneath that are options for 'Engine' and 'Kernel'. The option for 'Engine' is set to 'Jupyter,' and the option for 'Kernel' is set to 'Python 3'. Underneath these are options for 'Create a git repository', and 'Use venv with this project'. The button for 'Use venv...' is selected, and there is a text box to the right with the Python package names 'matplotlib' and 'pandas' filled in. There are buttons for 'Create Project' and 'Cancel' arranged side-by-side in the bottom right of the window. There is an option to 'Open in new session' in the button left corner."}

RStudio will automatically activate this virtual environment whenever you open the project. You can install additional Python packages into the environment using the RStudio **Terminal** tab. For example:

![](images/rstudio-pip-install.png){width="726" fig-alt="An RStudio terminal window. The prompt is prefixed by the word '(env)', indicating that this prompt is taking place in a Python virtual environment named 'env.' The first line is empty and the second line contains the command 'python3 -m pip install scikit-learn.'"}

## YAML Intelligence

YAML code completion is available for project files, YAML front matter, and executable cell options:

![](images/rstudio-yaml-completion.png){.border fig-alt="Quarto document with YAML being edited. Next to the cursor code completion helper is open showing YAML options beginning with the letters preceding the cursor ('to')."}

If you have incorrect YAML it will also be highlighted when documents are saved:

![](images/rstudio-yaml-diagnostics.png){.border fig-alt="Quarto document YAML metadata with an incorrect option underlined in red."}


## R Package

If you are not using RStudio and/or you prefer to render from the R console, you can do so using the **quarto** R package. To install the R package:

``` r
install.packages("quarto")
```

Then, to render a document:

``` r
library(quarto)
quarto_render("document.qmd")
```

To render a website (ie; all qmd in a directory organized as a website):

``` r
library(quarto)
quarto_render()
```

To live preview (automatically render & refresh the browser on save) for a document you are working on, use the `quarto_preview()` function:

``` r
library(quarto)
quarto_preview("document.qmd")
```

If you are working on a [website](../websites/website-basics.qmd) or [book](../books/book-basics.qmd) project, you can also use `quarto_preview()` on a project directory:

``` r
library(quarto)
quarto_preview()
```


# quarto-web/docs/faq/rmarkdown.qmd

---
title: "FAQ for R Markdown Users"
description: Answers to R Markdown users' most frequently asked questions about Quarto.
---

### What can I use Quarto for?

Quarto® is an open-source scientific and technical publishing system built on Pandoc. You can weave together narrative text and code to produce elegantly formatted output as documents, web pages, blog posts, books and more. 

### Quarto sounds similar to R Markdown. What is the difference and why create a new project?

At its core, Quarto works the same way as R Markdown: 

![](/docs/get-started/hello/images/rstudio-qmd-how-it-works.png){.preview-image fig-alt="How Quarto works: qmd to knitr to md to pandoc to multiple formats including pdf, HTML and Microsoft Word"}

The goal of Quarto is to make the process of creating and collaborating on scientific and technical documents dramatically better. Quarto combines the functionality of R Markdown, bookdown, distill, xaringian, etc into a single consistent system with "batteries included" that reflects everything we've learned from R Markdown over the past 10 years.

The number of languages and runtimes used for scientific discourse is very broad (and the Jupyter ecosystem in particular is extraordinarily popular). Quarto is at its core multi-language and multi-engine (supporting Knitr, Jupyter, and Observable today and potentially other engines tomorrow).

On the other hand, R Markdown is fundamentally tied to R which severely limits the number of practitioners it can benefit. Quarto is Posit's attempt to bring R Markdown to everyone! Unlike R Markdown, Quarto doesn't have a dependency or requirement for R. Quarto was developed to be multilingual, beginning with R, Python, Javascript, and Julia, with the idea that it will work even for languages that don't yet exist.

While it is a "new" system, it should also be noted that it is highly compatible with existing content: you can render most R Markdown documents and Jupyter notebooks unmodified with Quarto. The concept is to make a major, long term investment in reproducible research, while keeping it compatible with existing formats and adaptable to the various environments users work in.

### Is R Markdown going away? Will my R Markdown documents continue to work?

R Markdown is not going away! R Markdown is used extensively and continues to work well. It will continue to be actively supported. We're not leaving R Markdown, we're expanding our scope. Over the years there have been many feature requests, and rather than implementing them all in R Markdown, for certain features we may refer you to Quarto. Everything that is currently in R Markdown will continue to work and be supported. There are no plans for deprecation.

Read more about this in Yihui Xie's blog post [With Quarto Coming, is R Markdown Going Away? No.](https://yihui.org/en/2022/04/quarto-r-markdown/)

### Should I switch from R Markdown to Quarto?

If you like using R Markdown, there's no need to switch! R Markdown will continue to be supported and work as it always has been. You're welcome to try Quarto if you like, but there's no need to switch. Some new features may only exist in Quarto, so if you want to use those, then that's where you would give those a try.  

We should emphasize that switching is not imperative. While we don't plan on major feature initiatives in R Markdown and related packages, we are going to continue to maintain them (smaller improvements and bug fixes) for a long time to come. Furthermore, since Rmd files can in most cases be rendered without modification by Quarto, you can continue using R Markdown and the switching cost will still be minimal whenever you decide to do it. 

### I use X (bookdown, blogdown, etc.). What is the Quarto equivalent?

Here are the Quarto equivalents for various packages and features of the R Markdown ecosystem (in some cases Quarto equivalents are not yet available but will be later this year):

::: comparison
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Feature               | R Markdown                                                                                               | Quarto                                                                             |
+=======================+==========================================================================================================+====================================================================================+
| Basic Formats         | -   [html_document](https://pkgs.rstudio.com/rmarkdown/reference/html_document.html)                     | -   [html](https://quarto.org/docs/output-formats/html-basics.html)                |
|                       | -   [pdf_document](https://pkgs.rstudio.com/rmarkdown/reference/pdf_document.html)                       | -   [pdf](https://quarto.org/docs/output-formats/pdf-basics.html)                  |
|                       | -   [word_document](https://pkgs.rstudio.com/rmarkdown/reference/word_document.html)                     | -   [docx](https://quarto.org/docs/output-formats/ms-word.html)                    |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Beamer                | -   [beamer_presentation](https://pkgs.rstudio.com/rmarkdown/reference/beamer_presentation.html)         | -   [beamer](https://quarto.org/docs/presentations/beamer.html)                    |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| PowerPoint            | -   [powerpoint_presentation](https://pkgs.rstudio.com/rmarkdown/reference/powerpoint_presentation.html) | -   [pptx](https://quarto.org/docs/presentations/powerpoint.html)                  |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| HTML Slides           | -   [xaringan](https://bookdown.org/yihui/rmarkdown/xaringan.html)                                       | -   [revealjs](https://quarto.org/docs/presentations/revealjs/)                    |
|                       | -   [ioslides](https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html)                          |                                                                                    |
|                       | -   [revealjs](https://bookdown.org/yihui/rmarkdown/revealjs.html)                                       |                                                                                    |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Advanced Layout       | -   [tufte](https://bookdown.org/yihui/rmarkdown/tufte-handouts.html)                                    | -   [Quarto Article Layout](https://quarto.org/docs/authoring/article-layout.html) |
|                       | -   [distill](https://rstudio.github.io/distill/figures.html)                                            |                                                                                    |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Cross References      | -   [html_document2](https://bookdown.org/yihui/bookdown/a-single-document.html)                         | -   [Quarto Crossrefs](https://quarto.org/docs/authoring/cross-references.html)    |
|                       | -   [pdf_document2](https://bookdown.org/yihui/bookdown/a-single-document.html)                          |                                                                                    |
|                       | -   [word_document2](https://bookdown.org/yihui/bookdown/a-single-document.html)                         |                                                                                    |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Websites & Blogs      | -   [blogdown](https://pkgs.rstudio.com/blogdown/)                                                       | -   [Quarto Websites](https://quarto.org/docs/websites/)                           |
|                       | -   [distill](https://pkgs.rstudio.com/distill/)                                                         | -   [Quarto Blogs](https://quarto.org/docs/websites/website-blog.html)             |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Books                 | -   [bookdown](https://pkgs.rstudio.com/bookdown/)                                                       | -   [Quarto Books](https://quarto.org/docs/books/)                                 |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Interactivity         | [Shiny Documents](https://bookdown.org/yihui/rmarkdown/shiny-documents.html)                             | [Quarto Interactive Documents](https://quarto.org/docs/interactive/shiny/)         |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Journal Articles      | [rticles](https://pkgs.rstudio.com/rticles/)                                                             | [Quarto Journal Articles](https://quarto.org/docs/journals/)                       |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Paged HTML            | [pagedown](https://github.com/rstudio/pagedown)                                                          | Planned                                                                            |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Dashboards            | [flexdashboard](https://pkgs.rstudio.com/flexdashboard/)                                                 | Planned                                                                            |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
| Interactive Tutorials | [learnr](https://pkgs.rstudio.com/learnr/)                                                               | No equivalent planned                                                              |
+-----------------------+----------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------+
:::

### Can you create custom formats for Quarto like you can for R Markdown?

Quarto offers an [Extension](https://quarto.org/docs/extensions/) mechanism to add features to a format using [Shortcodes](https://quarto.org/docs/extensions/#using-shortcodes) or [Filters](https://quarto.org/docs/extensions/#using-filters) but also create [custom formats](https://quarto.org/docs/extensions/formats.html). A major difference with custom output format in R Markdown is that Quarto Extension does not use R but Lua, for example if you need to add some logic behind custom metadata fields. See [Developing with Lua](https://quarto.org/docs/extensions/lua.html) to get started if you need use it your extension.
Some of the features from R Markdown custom formats like customizing knitting behavior can also now be done in YAML with [execution options](https://quarto.org/docs/computations/execution-options.html#knitr-options).

As example of custom formats for Quarto, [Journal Articles](https://quarto.org/docs/journals/) for Quarto are port of some custom output format inside the **rticles** R package. Extensions lives in [Quarto Journals](https://github.com/quarto-journals/) Github organization, and you can find information on how to [customize templates](https://quarto.org/docs/journals/templates.html) and [manage Authors](https://quarto.org/docs/journals/authors.html) for you format. 

If you are an advanced developer of R Markdown custom format, the Extension mechanism may still have limitation (like pre and post processor). The Extension feature in Quarto will be improved over time - do not hesitate to share with us your use case or wished in our [Discussion Board](https://github.com/quarto-dev/quarto-cli/discussions).

### When would be a good time to start new projects in Quarto rather than R Markdown?

Quarto v1.0 was [announced at rstudio::conf(2022)](https://www.rstudio.com/blog/announcing-quarto-a-new-scientific-and-technical-publishing-system/). This is the first stable release which is already an excellent foundation for starting new projects with Quarto or migrating existing R Markdown projects ([if you are so inclined](https://quarto.org/docs/faq/rmarkdown.html#is-r-markdown-going-away-will-my-r-markdown-documents-continue-to-work)). If you start using Quarto, please do stay updated with [latest release and changes](https://quarto.org/docs/download/) as development is very active. 

### Does the RStudio IDE support Quarto?

Yes! You need to use RStudio {{< var rstudio.min_version >}} or a later version, which includes support for [editing and preview of Quarto documents](https://quarto.org/docs/tools/rstudio.html).

You can download the latest release ({{< var rstudio.current_release >}}) of RStudio {{< var rstudio.current_release >}} from <https://posit.co/download/rstudio-desktop/>.

### Does Posit Connect support Quarto?

Yes! You can publish Quarto content to Posit Connect v2021.08.0 or later. Quarto has to be enabled as documented in the Posit Connect [admin guide](https://docs.rstudio.com/connect/admin/appendix/configuration/#Quarto). Connect's user [documentation](https://docs.rstudio.com/connect/user/quarto/) refers to [Quarto.org docs](https://quarto.org/docs/websites/publishing-websites.html#rstudio-connect) on how to publish from the RStudio IDE. To publish Python-based Quarto content, you can use the [rsconnect-python CLI](https://docs.rstudio.com/rsconnect-python/) from various locations, including VSCode, JupyterLab or the terminal.


# quarto-web/docs/faq/index.qmd

---
title: "Frequently Asked Questions"
---

If you are an R Markdown user wondering about the relationship between Quarto and R Markdown, see also our [FAQ for R Markdown Users](rmarkdown.qmd).

### What can I use Quarto for?

Quarto® is an open-source scientific and technical publishing system built on Pandoc. You can weave together narrative text and code to produce elegantly formatted output as documents, web pages, blog posts, books and more. \

### How do I install Quarto?

Visit the Quarto.org [Get Started page](https://quarto.org/docs/get-started/), which provides installation instructions for Windows, Mac OS, and Linux. \

### Is Quarto free to use?

Yes! Quarto is [open source](https://quarto.org/license.html) with a GPL-2 license. You can use or disseminate it any way that you would any [GPL-2 licensed open source software](https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html). 

### What output formats can Quarto create?

There are many output formats available in Quarto. This includes all of the built in Pandoc formats (e.g. HTML, PDF, MS Word, Revealjs, ePub, etc.) as well as various ways to publish multiple documents (websites, blogs, and books). Learn more at [Quarto Formats](https://quarto.org/docs/output-formats/all-formats.html). 

### What editing tools can I use with Quarto?

You can use a wide variety of tools with Quarto. We have provided documentation for writing and editing Quarto documents in VSCode, JupyterLab, RStudio IDE, or any text editor. Visit the [Get Started with Quarto page](https://quarto.org/docs/get-started/) to install, and then choose your tool for a brief introductory guide.

### Can I use Jupyter notebooks with Quarto?

Yes! Quarto can [render Jupyter notebooks](https://quarto.org/docs/tools/jupyter-lab.html) and you can use Jupyter, JupyterLab or any other .ipynb notebook editor with Quarto. You can render existing .ipynb notebooks as-is with Quarto, but adding Quarto-specific output options or a YAML header can enhance the output. Visit the[JupyterLab page](https://quarto.org/docs/tools/jupyter-lab.html) for more information.

### What programming languages are supported in Quarto?

The principal languages supported by Quarto are Python, R, Julia, and Observable JavaScript. Integration with Jupyter also enables the use of many other languages. 

Each Quarto document can be optionally processed by a computational engine (the engine can be manually specified or automatically detected based on the code chunks within). Current engines include Knitr (which is also used by R Markdown and supports [a variety of languages](https://bookdown.org/yihui/rmarkdown-cookbook/other-languages.html) including R, Python, and Julia, etc.) and Jupyter (which supports many languages including Python, Julia, and R). See the documentation on [Engine Binding](https://quarto.org/docs/computations/execution-options.html#engine-binding) for additional details.

### What human languages are supported in Quarto?

You can write your Quarto documentation in your human language of choice. The [lang](https://pandoc.org/MANUAL.html#language-variables) [document option](https://quarto.org/docs/authoring/language.html#lang-option) is used to identify the main language of the document using IETF language tags (following the [BCP 47 standard](https://tools.ietf.org/html/bcp47)), such as en or en-GB. 

### Can I use Quarto to develop proprietary content?

Yes! The copyright on Quarto does not cover the original content that you generate using Quarto. Using Quarto to create original content does not place any restrictions, legally, on the license that you choose for the original content that you create, nor does it “reach through” to affect software that you might be writing documentation for with Quarto.

### But doesn't the GPL cover exported HTML documents when they include styles or functionalities from Quarto?

It covers the styles or functionalities themselves.  It does not cover your original content because your original content is not a derivative work of the Quarto styles or functionalities.

### How can I share documents and have people comment on them?

You can publish Quarto content to various locations. See the user guides for [publishing](https://quarto.org/docs/publishing/) for details on using Quarto Pub, GitHub Pages, Netlify, Posit Connect, and other services with Quarto. Once documents are published you can use  [hypothes.is](https://web.hypothes.is/), [Utterances](https://utteranc.es/), or [Giscus](https://giscus.app/) for commenting. Learn more in the documentation on [commenting](https://quarto.org/docs/output-formats/html-basics.html#commenting).

### Can I do collaborative editing with Quarto?

There is not yet anything specific for collaborative editing in Quarto. You can collaborate on .qmd files in the same way you currently do for any text or code files. 

Posit Workbench allows for [Project Sharing](https://support.rstudio.com/hc/en-us/articles/211659737-Sharing-Projects-in-RStudio-Workbench-RStudio-Server-Pro) for interactive editing and collaboration on the same document.

### Where can I publish Quarto websites?

There are a wide variety of ways to publish Quarto websites. Website content is by default written to the `\_site` sub-directory (you can customize this using the output-dir option). Publishing is simply a matter of copying the output directory to a web server or web hosting service.

The [publishing documentation](https://quarto.org/docs/publishing/other.html) describes several convenient options for Quarto website deployment including Posit Connect, Netlify, GitHub Pages, Firebase, Site44, and Amazon S3. We'll mostly defer to the documentation provided by those various services, but will note any Quarto website specific configuration required.

### Does Posit Connect support Quarto?

Yes! You can publish Quarto content to Posit Connect v2021.08.0 or later. Quarto has to be enabled as documented in the Posit Connect [admin guide](https://docs.rstudio.com/connect/admin/appendix/configuration/#Quarto). Connect's user [documentation](https://docs.rstudio.com/connect/user/quarto/) refers to [Quarto.org docs](https://quarto.org/docs/websites/publishing-websites.html#rstudio-connect) on how to publish from the RStudio IDE. To publish Python-based Quarto content, you can use the [rsconnect-python CLI](https://docs.rstudio.com/rsconnect-python/) from various locations, including VSCode, JupyterLab or the terminal.

### Who are the developers of Quarto?

Development of Quarto is sponsored by [Posit, PBC](https://www.posit.co/). The same core team works on both Quarto and R Markdown:

-   Carlos Scheidegger ([\@cscheid](https://github.com/cscheid))

-   Charles Teague ([\@dragonstyle](https://github.com/dragonstyle))

-   Christophe Dervieux ([\@cderv](https://github.com/cderv))

-   J.J. Allaire ([\@jjallaire](https://github.com/jjallaire/))

-   Yihui Xie ([\@yihui](https://github.com/yihui))

Here is the [full contributors list](https://github.com/quarto-dev/quarto-cli/graphs/contributors). Quarto is open source and we welcome contributions in our github repository as well! <https://github.com/quarto-dev/quarto-cli>.

### Why the name Quarto?

We wanted to use a name that had meaning in the history of publishing and landed on Quarto, which is the format of a book or pamphlet produced from full sheets printed with eight pages of text, four to a side, then folded twice to produce four leaves. The earliest known European printed book is a Quarto, the [Sibyllenbuch](https://en.wikipedia.org/wiki/Sibyllenbuch_fragment), believed to have been printed by [Johannes Gutenberg](https://en.wikipedia.org/wiki/Johannes_Gutenberg) in 1452--53.

### Where can I report bugs or request features?

Thanks for finding something and sharing with us! You can file an issue in the Quarto repository <https://github.com/quarto-dev/quarto-cli/issues>.

### Where can I ask questions and discuss using Quarto with others?

The best place to ask questions and see what questions other people have is in Quarto discussions (<https://github.com/quarto-dev/quarto-cli/discussions>). 


# quarto-web/docs/gallery/index.qmd

---
pagetitle: "Gallery"
format:
  html:
    toc: false
image: articles/advanced-layout-pdf.png
search: false
execute:
  echo: false
listing:
  - id: gallery
    template: gallery.ejs
    contents: gallery.yml
description: |
  A gallery of example documents, websites, books, and presentations created with Quarto.
---

::: {#hero-banner .column-screen}
::: {.grid .column-page}
::: {.headline .g-col-lg-6 .g-col-12 .g-col-md-12}
::: h1
Gallery
:::

Quarto can produce a wide variety of output formats. Here are some examples:

-   [Articles & Reports](#articles-reports)
-   [Presentations](#presentations)
-   [Interactive Docs](#interactive-docs)
-   [Websites](#websites)
-   [Books](#books)
:::

```{r}
#| classes: '.g-col-lg-6 .g-col-12 .g-col-md-12'
source("carousel.R")
carousel("gallery-carousel", 5000, 
         yaml.load_file("carousel.yml"))
```
:::
:::

::: {#gallery .column-page}
:::

```{=html}
<style>

#hero-banner {
  padding-top: 35px;
  background-color: rgb(237,243,249);
}

#quarto-content main { 
  margin-top: 0;
  padding-top: 0;
}

html {
  scroll-behavior: smooth;
}

.headline {
  font-size: 1.25em;
  font-weight: 300;
  padding-bottom: 1em;
}

.headline p {
  margin: 0;
  padding-bottom: 0.2rem;
}

.headline a {
  text-decoration: none;
}

.headline ul li {
  margin-bottom: 0.3em;
}

.carousel.card {
  padding-top: 2em;
}

.carousel img {
  width: 70%;
  margin-bottom: 110px;
}

.carousel-control-prev-icon, .carousel-control-next-icon {
  margin-bottom: 110px;
}

.carousel-caption {
  padding-top: 1em;
}

.touch {
  
}
</style>
```


# quarto-web/docs/projects/virtual-environments.qmd

---
title: "Virtual Environments"
format: html
---

Virtual environments provide a project-specific version of installed packages. This both helps you to faithfully reproduce your environment (e.g. if you are collaborating with a colleague or deploying to a server) as well as isolate the use of packages so that upgrading a package in one project doesn't break other projects.

There are several popular flavors of virtual environment, we will cover the following ones here:

1.  [venv](https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#creating-a-virtual-environment) (built into Python 3)

2.  [conda](https://towardsdatascience.com/managing-project-specific-environments-with-conda-406365a539ab) (built into Anaconda/Miniconda)

3.  [renv](https://rstudio.github.io/renv/articles/renv.html) (package for managing R environments)

Below we'll provide some example workflows for using these tools with Quarto. In these examples we'll assume that you are already within a project directory that contains Quarto documents (so the virtual environment will be created as a sub-directory of the project).

We'll also cover using virtual environments with [JupyterLab](#jupyterlab), [RStudio](#rstudio), and [VS Code](#vs-code).

## Using venv {#using-venv .platform-table}

Here we'll provide a brief run through of creating a venv for a Quarto project. See the [full documentation](https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#creating-a-virtual-environment) on using virtual environments with Python for additional details.

To create a new Python 3 virtual environment in the directory `env`:

+--------------+------------------------------------------------+
| Platform     | Command                                        |
+==============+================================================+
| Mac/Linux    | ```{.bash filename="Terminal"}                 |
|              | python3 -m venv env                            |
|              | ```                                            |
+--------------+------------------------------------------------+
| Windows      | ```{.powershell filename="Terminal"}           |
|              | py -m venv env                                 |
|              | ```                                            |
+--------------+------------------------------------------------+

To use the environment you need to activate it. This differs slightly depending on which platform / shell you are using:

+---------------+-----------------------------------------+
| Shell         | Command                                 |
+===============+=========================================+
| Mac/Linux     | ```{.bash filename="Terminal"}          |
|               | source env/bin/activate                 |
|               | ```                                     |
+---------------+-----------------------------------------+
| Windows\      | ```{.powershell filename="Terminal"}    |
| (Command)     | env\Scripts\activate.bat                |
|               | ```                                     |
+---------------+-----------------------------------------+
| Windows\      | ```{.powershell filename="Terminal"}    |
| (PowerShell)  | env\Scripts\Activate.ps1                |
|               | ```                                     |
+---------------+-----------------------------------------+

::: callout-note
#### PowerShell Note

Note that you may receive an error about running scripts being disabled when activating within PowerShell. If you get this error then execute the following command:

```{.bash filename="Terminal"}
Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope CurrentUser
```
:::

Once you've activated the environment, you need to ensure that you have the packages required to render your documents. This will typically encompass `jupyter` / `jupyterlab` plus whatever other packages are used in your Python code. Using `pip` to install packages into your environment. For example:

+--------------+------------------------------------------------------+
| Platform     | Command                                              |
+==============+======================================================+
| Mac/Linux    | ```{.bash filename="Terminal"}                       |
|              | python3 -m pip install jupyter matplotlib pandas     |
|              | ```                                                  |
+--------------+------------------------------------------------------+
| Windows      | ```{.powershell filename="Terminal"}                 |
|              | py -m pip install jupyter matplotlib pandas          |
|              | ```                                                  |
+--------------+------------------------------------------------------+

Assuming you installed all of the required packages (likely more than just `pandas` and `matplotlib`) you should now be able to `quarto render` documents within the directory.

To deactivate an environment use the `deactivate` command:

```{.bash filename="Terminal"}
deactivate
```

### Saving Environments {.platform-table}

To make your environment reproducible, you need to create a `requirements.txt` file that enumerates all of the packages in use. To do this use the `pip freeze` command:

+--------------+----------------------------------------------+
| Platform     | Command                                      |
+==============+==============================================+
| Mac/Linux    | ```{.bash filename="Terminal"}               |
|              | python3 -m pip freeze > requirements.txt     |
|              | ```                                          |
+--------------+----------------------------------------------+
| Windows      | ```{.powershell filename="Terminal"}         |
|              | py -m pip freeze > requirements.txt          |
|              | ```                                          |
+--------------+----------------------------------------------+

You should generally check the `requirements.txt` file into version control.

### Restoring Environments {.platform-table}

To reproduce the environment on another machine you create an empty environment, activate it, and then `pip install` using `requirements.txt`:

First, follow the [instructions above](#using-venv) for creating and activating a virtual environment for your platform/shell.

Then, install packages from `requirements.txt`:

+--------------+------------------------------------------------+
| Platform     | Command                                        |
+==============+================================================+
| Mac/Linux    | ```{.bash filename="Terminal"}                 |
|              | python3 -m pip install -r requirements.txt     |
|              | ```                                            |
+--------------+------------------------------------------------+
| Windows      | ```{.bash filename="Terminal"}                 |
|              | py -m pip install -r requirements.txt          |
|              | ```                                            |
+--------------+------------------------------------------------+

## Using conda {.platform-table}

This section will cover the basics of creating and using conda environments with Quarto projects. See this article on [managing project specific environments](https://towardsdatascience.com/managing-project-specific-environments-with-conda-406365a539ab) with Conda for additional details.

To create a new environment in the directory `env`:

```{.bash filename="Terminal"}
conda create --prefix env python
```

If this is the first time you've used conda in your shell, you may need to execute one of the following commands before using other conda tools:

+--------------------+---------------------------------------+
| Shell              | Command                               |
+====================+=======================================+
| Newer Mac\         | ```{.bash filename="Terminal"}        |
| (Zsh)              | conda init zsh                        |
|                    | ```                                   |
+--------------------+---------------------------------------+
| Linux / Older Mac\ | ```{.bash filename="Terminal"}        |
| (Bash)             | conda init bash                       |
|                    | ```                                   |
+--------------------+---------------------------------------+
| Windows\           | ```{.powershell filename="Terminal"}  |
| (Command)          | conda init cmd.exe                    |
|                    | ```                                   |
+--------------------+---------------------------------------+
| Windows\           | ```{.powershell filename="Terminal"}  |
| (PowerShell)       | conda init powershell                 |
|                    | ```                                   |
+--------------------+---------------------------------------+

You will likely need to exit and restart your terminal for `conda init` to be reflected in your session.

To use the environment you need to activate it, which you do as follows:

+--------------+--------------------------------------+
| Platform     | Command                              |
+==============+======================================+
| Mac/Linux    | ```{.bash filename="Terminal"}       |
|              | conda activate ./env                 |
|              | ```                                  |
+--------------+--------------------------------------+
| Windows      | ```{.powershell filename="Terminal"} |
|              | conda activate .\env                 |
|              | ```                                  |
+--------------+--------------------------------------+

Once you've activated the environment, you need to ensure that you have the packages required to render your documents. This will typically encompass `jupyter` / `jupyterlab` plus whatever other packages are used in your Python code. Use `conda install` to install packages into your environment. For example:

```{.bash filename="Terminal"}
conda install jupyter
conda install pandas matplotlib 
```

Assuming you installed all of the required packages (likely more than just `pandas` and `matplotlib`) you should now be able to `quarto render` documents within the directory.

Use `conda deactivate` to exit an activated environment:

```{.bash filename="Terminal"}
conda deactivate
```

### Saving Environments

To make your environment reproducible, you need to create a `environment.yml` file that enumerates all of the packages in use. Do this using the `conda env export` command:

```{.bash filename="Terminal"}
conda env export > environment.yml
```

You should generally check the `environment.yml` file into version control.

### Restoring Environments

To reproduce the environment on another machine you just pass the `environment.yml` file as an argument to `conda env create`:

```{.bash filename="Terminal"}
conda env create --prefix env -f environment.yml
```

### More information

For more on conda's `environment.yml`, see Conda's [Managing Environments](https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html) documentation.

## Using renv

The [renv](https://rstudio.github.io/renv/articles/renv.html) package provides functionality similar to the venv and conda, but for R packages. To create a new renv environment, install the **renv** package from CRAN then call the `renv::init()` function:

``` r
install.packages("renv")
renv::init()
```

As part of initialization, your `.Rprofile` file is modified to ensure that the renv is activated automatically at the start of each R session.

If you plan on using **both** R and Python in your project, you can have renv automatically create and manage a Python virtual environment as follows:

``` r
renv::use_python()
```

To install R packages use the standard R `install.packages` function. You can also install GitHub packages using the `renv::install` function. For example:

``` r
install.packages("ggplot2")      # install from CRAN
renv::install("tidyverse/dplyr") # install from GitHub
```

To install Python packages just use `pip` as described above from the built-in RStudio terminal.

### Saving Environments

To record the current versions of all R (and optionally Python) packages, use the `renv::snapshot()` function:

``` r
renv::snapshot()
```

This will record an `renv.lock` file for R packages and a `requirements.txt` file for Python packages). These files should be checked into version control.

### Restoring Environments

To reproduce the environment on another machine use the `renv::restore()` function:

``` r
renv::restore()
```

## JupyterLab {#jupyterlab .platform-table}

To use Jupyter or JupyterLab within a Python virtual environment you just need to activate the environment and then launch the Jupyter front end. For example:

+----------------------+--------------------------------------+
| Shell                | Command                              |
+======================+======================================+
|                      | ```{.bash filename="Terminal"}       |
| Mac/Linux            | source env/bin/activate              |
|                      | python3 -m jupyter lab               |
|                      | ```                                  |
+----------------------+--------------------------------------+
|                      | ```{.powershell filename="Terminal"} |
| Windows\             | env\Scripts\activate.bat             |
| (Command)            | py -m jupyter lab                    |
|                      | ```                                  |
+----------------------+--------------------------------------+
|                      | ```{.powershell filename="Terminal"} |
| Windows\             | env\Scripts\Activate.ps1             |
| (PowerShell)         | py -m jupyter lab                    |
|                      | ```                                  |
+----------------------+--------------------------------------+

All of the Python packages installed within the `env` will be available in your Jupyter notebook session. The workflow is similar if you are using conda environments.

## RStudio {#rstudio}

If you are using Quarto within RStudio it is strongly recommended that you use the [current release](https://www.rstudio.com/products/rstudio/download/) of RStudio from <https://www.rstudio.com/products/rstudio/download/> (the documentation below assumes you are using this build).

### renv

If you are using **renv**, RStudio will automatically do the right thing in terms of binding Quarto to the R and/or Python packages in your project-local environments.

If you need to install R packages, use `install.packages`; if you need to install Python packages, simply use `pip` or `conda` within the terminal as described above.

### venv / condaenv

RStudio will automatically activate any venv or condaenv that it finds within a project directory. Just be sure to create an RStudio project within the same directory where you created your `env` and things will work as expected with no additional configuration.

If you need to install Python packages, simply use `pip` or `conda` within the terminal as described above.

## VS Code {#vs-code}

If you create a virtual environment in the `env/` directory as described above, Visual Studio Code should automatically discover that environment when you load a workspace from the environment's parent directory.

Note that this applies only to `venv` not Conda environments (which have a separate mechanism for binding to the current VS Code session).

You can read more about VS Code support for virtual environments here: <https://code.visualstudio.com/docs/python/environments>.


# quarto-web/docs/projects/scripts.qmd

---
title: "Project Scripts"
---

## Overview

Many more complex projects have additional processing that needs to take place periodically (e.g. data import and preparation) or even before/after each render. Project scripts are a way to incorporate this processing into your workflow.

## Periodic Scripts

You can use the `quarto run` command to run a TypeScript, R, Python, or Lua script. For example:

```{.bash filename="Terminal"}
quarto run import.py
```

Available script interpreters for `quarto run` include:

| Language   | Interpreter                                                                              |
|----------------|-------------------------------------------------------|
| TypeScript | [Deno](https://deno.land/) (embedded in Quarto)                                          |
| Python     | Python from `PATH` (or [launcher](https://www.python.org/dev/peps/pep-0397/) on Windows) |
| R          | Rscript from `PATH`                                                                      |
| Lua        | [Lua 5.3](https://www.lua.org/manual/5.3/) (embedded in Pandoc)                          |

Using TypeScript or Lua enables you to create scripts with no additional installation requirements. On the other hand, if your project is already using Python or R then scripts in those languages might be more convenient.

If you are using TypeScript, please be sure to consult the section below on [Deno Scripts](#deno-scripts) for additonal details on the Deno standard library and importing external scripts.

## Pre and Post Render

You can arrange for one or more scripts to execute before and/or after each render using the `pre-render` and `post-render` project options. For example:

``` yaml
project:
  type: website
  pre-render: prepare.py
  post-render: 
    - compress.ts
    - fix-links.py
```

Note that `pre-render` and `post-render` also support arbitrary shell commands. So you could for example use `make` to do data preparation this way:

``` yaml
project:
  type: website
  pre-render: make prepare
```

Pre and post render scripts are run with the main project directory.

The following environment variables are passed to pre and post-render scripts (note that all paths are *relative* to the main project directory):

| Variable                      | Description                                                                                                                                                                |
|-----------------|-------------------------------------------------------|
| `QUARTO_PROJECT_RENDER_ALL`   | Set to "1" if this is a render of all files in the project (as opposed to an incremental render or a render for preview). This unset if Quarto is not rendering all files. |
| `QUARTO_PROJECT_OUTPUT_DIR`   | Output directory                                                                                                                                                           |
| `QUARTO_PROJECT_INPUT_FILES`  | Newline separated list of all input files being rendered (passed only to `pre-render`)                                                                                     |
| `QUARTO_PROJECT_OUTPUT_FILES` | Newline separated list of all output files rendered (passed only to `post-render`).                                                                                        |

If you have a `pre-render` step that is expensive, you may want only run it when the entire project is being rendered. Here's how you would do this in the various supported script languages:

::: panel-tabset
## TypeScript

``` js
if (!Deno.env.get("QUARTO_PROJECT_RENDER_ALL")) {
  Deno.exit();
}
```

## Python

``` python
import os
if not os.getenv("QUARTO_PROJECT_RENDER_ALL"):
  exit()
```

## R

``` r
if (!nzchar(Sys.getenv("QUARTO_PROJECT_RENDER_ALL"))) {
  quit()
}
```

## Lua

``` lua
if not os.getenv("QUARTO_PROJECT_RENDER_ALL") then
  os.exit();
end
```
:::

## Deno Scripts {#deno-scripts}

If you want to create project scripts with TypeScript, `quarto run` enables you to use the [Deno](https://deno.land/) TypeScript interpreter bundled with Quarto. This interpreter also includes the complete Deno [standard library](https://deno.land/manual/standard_library). For example, to use the Deno YAML parser you would do this:

``` typescript
import { parse } from "https://deno.land/std/encoding/yaml.ts";

const config = parse(Deno.readTextFileSync("_quarto.yml"));
```

The reference to the Deno `encoding` library above uses a URL: it's important to note that in spite of this the library is *not downloaded from a remote server* (in fact, importing from remote servers is disabled entirely in the Quarto Deno interpreter). Rather, the Deno standard library is shipped with Quarto, making standard library URLs available in an offline cache.

You may come across example code that embeds versions directly in Deno library imports. For example:

``` typescript
import { format } from "https://deno.land/std@0.119.0/datetime/mod.ts";
```

These version-bound imports **will not work** with Quarto (as its local standard library cache is populated with unversioned URLs). The correct form of the above import is thus:

``` typescript
import { format } from "https://deno.land/std/datetime/mod.ts";
```

You may also see examples of Deno code that imports 3rd party libraries directly from URLs. As noted above, this functionality is not available in Quarto Deno scripts. Rather, you should download any external libraries you wish to use, include them with your project source code, and import them using relative file paths.


# quarto-web/docs/projects/code-execution.qmd

---
title: "Managing Execution"
format: html
---

## Overview

Rendering a list of input files has the potential to be quite time consuming depending on the computations required. There are a number of techniques you can use to minimize the time required to rebuild a site that has expensive computations.

## Incremental Render

When working on a project you are typically iterating on a single document at a time. You can render a single file (or single directory or list of files) incrementally by specifying it on the command-line:

``` {.bash filename="Terminal"}
quarto render introduction.qmd
quarto render subdir/
```

Even though you are rendering only part of the project, any associated project-handling code is still executed. So for example in a book project the entire book is still produced (using previously rendered versions of the other chapters).

## Freeze

{{< include _freeze-basics.md >}}

### Using Freeze

Freeze is generally used when you have either a large number of collaborators or many computational documents created over a longer period of time. In both cases it can be challenging to fully re-execute every document when you render the site. This could be because some documents have esoteric or environment-specific requirements (e.g. require access/authentication to a data source) or due to general fragility of dependencies over time. Using freeze ensures that you can always reproducibly render your site.

The computational results of documents executed with `freeze` are stored in the `_freeze` directory, and re-used when needed to fulfill document renders. You should check the contents of `_freeze` into version control so that others rendering the project don't need to reproduce your computational environment to render it in their environment.

Note that you'll still want to take care to fully re-render your project when things outside of source code change (e.g. input data). You can remove previously frozen output by deleting the `_freeze` folder at the root of your project.

### Virtual Environments {#freeze-virtual-environments}

You can also combine `freeze` with the use of virtual environments to divide your project into sub-directories that each have their own set of dependencies. This allows multiple collaborators to use a set of localized dependencies for the documents they are responsible for, but at the same time still be able to render the entire project without requiring all of its dependencies.

To learn how to create and use a virtual environment, see the full documentation on [Virtual Environments](virtual-environments.qmd)

Here's an example workflow of using virtual environments with freeze:

1.  Include `freeze: true` in the project execution options:

    ``` yaml
    execute:
      freeze: true
    ```

2.  Create a sub-directory of documents (e.g. `research`), initialize and use a virtual environment within it:

    ``` default
    research/
      document1.qmd
      document2.qmd
      env/
      requirements.txt
    ```

3.  When working within this sub-directory, activate the virtual environment before rendering its documents. For example:

    ``` {.bash filename="Terminal"}
    cd research
    source env/bin/activate
    quarto render               # render all files in subdir
    quarto render document1.qmd  # render a single-file
    ```

This sub-directory render won't use the cached `freeze` results but instead will re-run all of the computations using the directory-specific virtual environment. You can of course also include sub-directories within this directory and their documents will also be rendered using the parent virtual environment.

## Cache

You can use the `cache` option to cache the results of computations (using the [knitr cache](https://yihui.org/knitr/demo/cache/) for R documents, and [Jupyter Cache](https://jupyter-cache.readthedocs.io/en/latest/) for Jupyter documents):

``` yaml
execute:
  cache: true
```

Note that cache invalidation is triggered by changes in chunk source code (or other cache attributes you've defined). You may however need to manually refresh the cache if you know that some other input (or even time) has changed sufficiently to warrant an update. To do this, render either individual files or an entire project using the `--cache-refresh` option:

``` {.bash filename="Terminal"}
quarto render mydoc.qmd --cache-refresh # single doc
quarto render --cache-refresh           # entire project
```

## Notebooks

{{< include ../computations/_jupyter-execute.md >}}

## Working Dir

By default, the working directory for rendering files within a project is the directory of the file itself. If you prefer to use the main project directory instead, you can add the `execute-dir: project` option to your config:

``` yaml
project:
  execute-dir: project
```

Note that from within your code you can always determine the location of the currently executing Quarto project using the `QUARTO_PROJECT_DIR` environment variable.


# quarto-web/docs/projects/environment.qmd

---
title: "Environment Variables"
---

## Overview

You may have one or more environment variables that you want to make sure are set whenever you render your project. For example, you might be using environment variables to:

1.  Provide the URL of a server to download data from.
2.  Set the address of a proxy server (e.g. `HTTP_PROXY`).
3.  Provide credentials for accessing a remote server (note that below we cover best practices for using credentials stored in environment variables).
4.  Tune the behavior of executable code (e.g. `OMP_NUM_THREADS`, `ARROW_IO_THREADS`, etc.)
5.  Provide options for language interpreters (e.g. `PYTHONINSPECT` or `TZDIR`).
6.  Determine which versions of Python and R are used (e.g. `QUARTO_PYTHON`, `QUARTO_R`, `PY_PYTHON`, or `RETICULATE_PYTHON`).

Quarto projects can define a set of standard environment variables as well as vary which environment variables are defined based on the [active project profile](profiles.qmd). It's also possible to use environment variables that are defined only on the local system and not checked in to version control.

## Environment File

If you include an `_environment` file at the root level of your project alongside `_quarto.yml` the values defined within the file will be read and set into the environment when the project configuration is read. For example:

``` {.ini filename="_environment"}
HTTP_PROXY="https://proxy.example.com/"
OMP_NUM_THREADS=4
```

These environment variables will be available both within Quarto's execution context as well as in child processes (e.g. Jupyter kernels).

Note that variables defined in environment files *do not take precedence* over definitions that already exist in the external environment. Rather, they provide defaults that will be applied when no external variable of the same name is already defined.

You can include comments in environment files, as well as reference other environment variables. For example:

``` {.ini filename="_environment"}
# database server
DATABASE_SERVER=https://db.example.com
DATABASE_API=${DATABASE_SERVER}/api
```

When referencing another environment variable, it must either also be defined within the same file or already exist in the external environment. See the complete environment variable [parsing rules](https://github.com/denoland/deno_std/tree/main/dotenv#parsing-rules) for additional details on the syntax of environment files.

## Profile Environments

If you are using [Project Profiles](profiles.qmd) to adapt your projects for different scenarios, you can create a custom environment file that will be activated along with the profile. For example, if you have a profile named `production`, then the variables defined in `_environment-production` will be read and applied.

Here, we customize the `OMP_NUM_THREADS` environment variable to use more cores when running in production:

``` {.ini filename="_environment-production"}
OMP_NUM_THREADS=16
```

Note that profile environments are merged with the default `_environment` so you need only define the variables that vary in your profile and can rely on the defaults for others.

::: callout-important
If you have secrets (e.g. access tokens) that you need to specify using environment variables you shouldn't use profile environments (as they are often checked in to version control). We'll cover the recommended technique for this in [Managing Secrets](#managing-secrets) below.
:::

## Local Environment

When working on a project locally you may want to use different values for some environment variables. For example, you might want to add some variables that provide additional diagnostic output for Python execution.

You can do this by creating an `_environment.local` file. The values in the local file will override those specified in the default file:

``` {.ini filename="_environment.local"}
PYTHONINSPECT=1
PYTHONDEVMODE=1
```

Note that `_environment.local` is not intended to be checked in to version control. Rather, it's designed for values that you want to activate only on your system. To facilitate this, Quarto automatically adds the following to your project `.gitignore` file:

``` {.ini filename=".gitignore"}
/_*.local
```

This is especially useful when your environment variables contain secrets, which we'll explore in more depth in the following section.

## Managing Secrets {#managing-secrets}

Frequently, credentials or authorization tokens are provided to code via environment variables. In many cases these credentials are required to render the project (for example, if the project is accessing data in a remote database or web service).

It's especially critical that these credentials are not checked in to version control. Typically, this is accomplished by a combination of:

1.  When running on a server or CI service, provide the environment variable as an encrypted secret. Details on how to do this vary between services (GitHub Actions has [deployed secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets), Posit Connect supports [content variables](https://docs.rstudio.com/connect/user/content-settings/#content-vars), etc.)

2.  For local development, define variables in the `_environment.local` file (and ignore this file in version control, as Quarto does by default). For example, here we specify AWS credentials in a local environment file:

    ``` {.ini filename="_environment.local"}
    AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
    AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI
    ```

One problem this leaves is ensuring that these variables are always specified. The next section on required variables covers how to do this.

## Required Variables

If there are certain environment variables that need to be specified in order to render the project, you can create an `_environment.required` file. This file can be copied to `_environment.local` as a starting point for local authoring, and also serves as documentation for server environments regarding which variables need to be defined.

Returning to the example of AWS credentials, this `_environment.required` file provides documentation that these credentials will be required to render the project:

``` {.ini filename="_environment.required"}
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
```

Then, the `.local` file (which again, is not checked in to version control) would be populated with the actual credentials:

``` {.ini filename="_environment.local"}
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI
```

Further, any server environment that wants to render this project could validate that the required variables have been specified, and fail to run (with an appropriate error message) if they are not.


# quarto-web/docs/projects/quarto-projects.qmd

---
title: "Project Basics"
format: html
---

## Overview

Quarto projects are directories that provide:

-   A way to render all or some of the files in a directory with a single command (e.g. `quarto render myproject`).

-   A way to share YAML configuration across multiple documents.

-   The ability to redirect output artifacts to another directory.

-   The ability to freeze rendered output (i.e. don't re-execute documents unless they have changed).

In addition, projects can have special "types" that introduce additional behavior (e.g. [websites](/docs/websites/website-basics.qmd) or [books](/docs/books/book-basics.qmd)).

::: callout-note
If you are just getting started with Quarto and/or you don't have previous experience with markdown publishing systems, you probably want to skip learning about projects for now. Once you are comfortable with the basics, come back to this article to learn more.
:::

## Creating Projects

Use the `quarto create project` command to create a new project, using the prompt.

``` {.bash filename="Terminal"}
quarto create project
```

``` {.bash filename="Output"}
 ? Type
 ❯ default
   website
   blog
   manuscript
   book
   confluence
```

Or define the type and the project name as arguments.

``` {.bash filename="Terminal"}
quarto create project <type> <name>
```


## Shared Metadata

One of the most important features of Quarto Projects is the ability to share YAML metadata options across multiple documents. Shared metadata can be defined at both the project and directory level.

### Project Metadata

All Quarto projects include a `_quarto.yml` configuration file. Any document rendered within the project directory will automatically inherit the metadata defined at the project level. Here is an example of what the `_quarto.yml` file might look like:

``` {.yaml filename="_quarto.yml"}
project:
  output-dir: _output

toc: true
number-sections: true
bibliography: references.bib  
  
format:
  html:
    css: styles.css
    html-math-method: katex
  pdf:
    documentclass: report
    margin-left: 30mm
    margin-right: 30mm
```

Note that the project file contains both global options that apply to all formats (e.g. `toc` and `bibliography`) as well as format-specific options.

You can further customize project metadata based on different project profiles (e.g. development vs. production or creating multiple versions of a book or website). See the article on [Project Profiles](profiles.qmd) for additional details.

### Directory Metadata

You can also define metadata that should be inherited by only files within a directory. To do this, add a `_metadata.yml` file to the directory where you want to share metadata. For example, the following `_metadata.yml` sets up default Revealjs options for a series of presentations and disables `search` for documents within the directory:

``` {.yaml filename="_metadata.yml"}
format:
  revealjs: 
    menu: false
    progress: false
search: false
```

Options provided within these files use the same schema as `_quarto.yml` and are merged with any options you've already provided in `_quarto.yml`.

### Metadata Merging

Metadata defined within `_quarto.yml`, `_metadata.yml`, and document-level YAML options are merged together. Document level options take priority, followed by directory options and finally project-level options:

+------------------------+-----------------------------------------------------+
| File                   | Role                                                |
+========================+=====================================================+
| `_quarto.yml`          | Project level default options                       |
+------------------------+-----------------------------------------------------+
| `dir/_metadata.yml`    | Directory level default options (overrides project) |
+------------------------+-----------------------------------------------------+
| `dir/document.qmd`     | Document options (overrides directory and project)  |
+------------------------+-----------------------------------------------------+

Note that when metadata is combined, objects and arrays are merged rather than simply overwriting each other. For example, here is how project and directory level options that affect output format and bibliographies would be merged:

+------------------------------------+------------------------------------------+-------------------------------+
| ``` {.yaml filename="_quarto.yml"} | ``` {.yaml filename="dir/_metadata.yml"} | ``` {.yaml filename="merged"} |
| format:                            | format:                                  | format:                       |
|   html:                            |   html:                                  |   html:                       |
|     toc: true                      |     code-fold: true                      |     toc: true                 |
| bibliography:                      | bibliography:                            |     code-fold: true           |
|   - refs.bib                       |   - proj.bib                             | bibliography:                 |
|                                    |                                          |   - refs.bib                  |
|                                    |                                          |   - proj.bib                  |
| ```                                | ```                                      | ```                           |
+------------------------------------+------------------------------------------+-------------------------------+

: {tbl-colwidths="\[33,33,33\]"}

The one exception to metadata merging is `format`. 
If the document-level YAML defines a format, it must define the complete list of formats to be rendered. 

### Metadata Includes

You might find it convenient to break your metadata into multiple files. You can do this using the `metadata-files` option. For example, here we include some website options with a separate `_website.yml` in the `_quarto.yml`:

``` {.yaml filename="_quarto.yml"}
project:
  type: website
  
metadata-files:
  - _website.yml
```

``` {.yaml filename="_website.yml"}
website:
  navbar:
    background: primary
    left:
      - href: index.qmd
        text: Home
      - about.qmd
```

Files listed in `metadata-files` are merged with the parent file in the same fashion that project, directory, and document options are merged. This means that included files can both provide new options as well as combine with existing options.

### Local Config

Sometimes its useful to define local changes to project configuration that are not checked in to version control. You can do this by creating a `_quarto.yml.local` config file. For example, here we specify that we want to use the execution cache when running locally:

```{.yaml filename="_quarto.yml.local"}
execute:
  cache: true
```

Note that Quarto automatically writes an entry to `.gitignore` to ensure that `.local` files are not committed (note that [environment variables](environment.qmd#local-environment) can also be defined in a similar `.local` file).

## Rendering Projects

You can render files within a project either one-by-one or all at once (in either case, shared project metadata will be used).

To render all of the documents within a project, just use `quarto render` within the project directory (or target a specific directory with a command line argument):

``` {.bash filename="Terminal"}
# render project in current dir
quarto render 

# render project in 'myproject'
quarto render myproject
```

You can also render only the files within a sub-directory of a project. For example, if the current directory contains a project with sub-directories `tutorials`, `how-to`, and `articles`, you can render just the contents of `articles` as follows:

``` {.bash filename="Terminal"}
# render only documents in the 'articles' sub-directory
quarto render articles
```

Note that when rendering a project, command line arguments you pass to `quarto render` will be used for each file in the project. For example, this command will render only the PDF format:

``` {.bash filename="Terminal"}
quarto render --to pdf
quarto render myproject --to pdf
```

If you are working with Quarto from R, you can also render a project from the R console using the **quarto** R package.

``` r
library(quarto)
quarto_render()
```

{{< include _render-targets.md >}}


## Learning More

These articles provide additional documentation on more advanced features of Quarto projects:

-   [Managing Execution](code-execution.qmd) covers various techniques you can use to minimize the time required to rebuild a site that has expensive computations.

-   [Project Profiles](profiles.qmd) describes how you can adapt both the options and content of your projects for different scenarios (e.g. development vs. production or creating multiple versions of a book or website).

-   [Environment Variables](environment.qmd) covers how to define environment variables that should be set whenever your project is rendered (including how to vary those variables by project profile and/or for use in local development).

-   [Project Scripts](scripts.qmd) describes how to add periodic or pre/post render scripts to projects for special processing of input data and project outputs.

-   [Virtual Environments](virtual-environments.qmd) explores how to create project-specific package libraries, which helps with faithfully reproducing your environment over time as well as ensuring that upgrading a package in one project doesn't break other projects.


# quarto-web/docs/projects/profiles.qmd

---
title: "Project Profiles"
editor: visual
---

## Overview

Project profiles enable you to adapt the options, environment, and content of your projects for different scenarios. For example:

-   You may want to have distinct execution behavior when running on a production server. For example, you may want to use `freeze` or `cache` when rendering locally but always execute all of the code when running on a CI server.
-   You may want to provide distinct access credentials for databases or web services depending on the profile.
-   You may want to create different versions of a book from the same source code (e.g. a basic and advanced version).

When a project profile is activated a number of things occur:

1)  Profile specific `config` is merged with the top-level `_quarto.yml`.
2)  Profile specific [environment variables](environment.qmd#profile-environments) are applied.
3)  Divs can use the `when-profile` attribute to target content specifically for that project.
4)  The `QUARTO_PROFILE` environment variable includes the profile name so that other code (e.g. Python or R code) can condition its behavior on the active profile.

### Examples

Here's an example of a `_quarto.yml` file that is extended by a `production` configuration defined in `_quarto-production.yml`. When activated, the `production` profile overrides the default rendering execution behavior (disabling the use of `freeze`):

``` {.yaml filename="_quarto.yml"}
project:
  type: website
  
execute: 
  freeze: true
```

``` {.yaml filename="_quarto-production.yml"}
execute:
  freeze: false
```

When the `production` profile is active, its configuration will be [merged](quarto-projects.qmd#metadata-merging) over the default project config (in this case resulting in the use of the frozen computational results being disabled).

Here's an example of using the `when-profile` attribute to include content only when the `advanced` profile is active:

``` markdown
::: {.content-visible when-profile="advanced"}
This content will only appear in the advanced version.
:::
```

The next section covers how to activate profiles, then subsequent sections go into more depth on the various capabilities of profiles.

## Activating Profiles

One or more named profiles can be activated by using either the `QUARTO_PROFILE` environment variable or the `--profile` command line argument.

Here we activate a profile using the `QUARTO_PROFILE` environment variable:

``` {.bash filename="Terminal"}
export QUARTO_PROFILE=production
quarto render
```

Here we activate a profile by passing the `--profile` argument on the Quarto command line:

``` {.bash filename="Terminal"}
quarto render --profile production
```

The use of the `--profile` command line argument entirely replaces any defined `QUARTO_PROFILE` within the environment.

Note that more than one profile can be activated at once. For example, here we activate both the `production` and `advanced` profiles:

``` {.bash filename="Terminal"}
quarto render --profile production,advanced
```

## Profile Configuration

Define profile-specific configuration by adding an additional project file that includes the name of the profile (for example, `_quarto-advanced.yml` for the `advanced` profile). For example, here we customize the `title` and `output-dir` based on the currently active profile:

``` {.yaml filename="_quarto.yml"}
project:
  title: "My Website"
  type: website
```

``` {.yaml filename="_quarto-advanced.yml"}
project:
  title: "My Website (Advanced)"
  output-dir: _site-advanced
```

It's important to note that multiple profiles can be active. So the following enables you to vary configuration based on both `advanced` and `production` profiles:

``` {.yaml filename="_quarto.yml"}
project:
  title: "My Website"
  type: website
  
execute:
  freeze: true
```

``` {.yaml filename="_quarto-advanced.yml"}
project:
  title: "My Website (Advanced)"
  output-dir: _site-advanced
```

``` {.yaml filename="_quarto-production.yml"}
execute:
  freeze: false
```

The `advanced` and `production` profiles would each be applied if you specify them both:

``` {.bash filename="Terminal"}
# multiple profiles in environment
export QUARTO_PROFILE=advanced,production
quarto render

# multiple profiles on command line
quarto render --profile advanced,production
```

## Profile Content

You can also specify that content within your project only be included when a certain profile is active. You do this using the `.content-visible` class along with the `when-profile` attribute to a div or span. For example, here we defined a div that is included only for the `advanced` profile:

``` markdown
::: {.content-visible when-profile="advanced"}
This content will only appear in the advanced version.
:::
```

You can also exclude content from a given profile using the `unless-profile` attribute. Here we include content only when the profile is not `advanced`:

``` markdown
::: {.content-visible unless-profile="advanced"}
This content will appear in all versions save for advanced.
:::
```

It might be more clear to re-write the above using `.content-hidden`:

``` markdown
::: {.content-hidden when-profile="advanced"}
This content will be hidden in the advanced profile
:::
```

## Profile Groups

Often times a set of profile names form a mutually exclusive group, and you want to make sure that at least one of the profiles is always active. For example, here we define distinct chapter lists for `basic` and `advanced` profiles, along with a profile `group` entry indicating that they form a group:

``` {.yaml filename="_quarto.yml"}
project:
  type: book
  
book:
  title: "My Book"
  author: "Norah Jones"

profile:
  group: 
    - [basic, advanced]
```

``` {.yaml filename="_quarto-basic.yml"}
book:
  chapters:
    - intro.qmd
    - using.qmd
    - summary.qmd
```

``` {.yaml filename="_quarto-advanced.yml"}
book:
  chapters:
    - intro.qmd
    - using.qmd
    - advanced.qmd
    - summary.qmd
```

You'll note that the base options for `book` do not include a chapter list (as we rely on the profiles for distinct lists). This means that to successfully render the project, you always need to have a profile defined---this might be inconvenient especially for local authoring and preview.

By specifying a `group` we indicate that one of the profiles must be defined, and that the first one listed should be used as the default when no others are present.

## Default Profile

When authoring a Quarto project that uses profiles you might want to change which profile(s) are rendered by default to try out different variations of the project.

While you could certainly do this by defining environment variables in your shell, this isn't particularly convenient when using the integrated render and preview functionality in VS Code and RStudio.

To define a default profile that is used when an explicit `QUARTO_PROFILE` or `--profile` CLI argument is not present, add a `default` option to the `profile` key. For example, here we indicate that `development` should be the active profile is not otherwise specified:

``` {.yaml filename="_quarto.yml"}
profile:
  default: development
```


# quarto-web/docs/troubleshooting/index.qmd

---
title: "Troubleshooting"
---

This page documents a number of strategies you can employ in case you run into problems with Quarto.
As always, we welcome feedback and bug reports on the [Quarto issue tracker](https://github.com/quarto-dev/quarto-cli/issues),
but this page might help you get up and running quickly.

## Basics

### Check the version of quarto and its dependencies
 
You can check the version of Quarto and its dependencies by running `quarto check`. Here's an example of the output it generates:

```
[✓] Checking versions of quarto binary dependencies...
      Pandoc version 2.19.2: OK
      Dart Sass version 1.32.8: OK
[✓] Checking versions of quarto dependencies......OK
[✓] Checking Quarto installation......OK
      Version: 1.2.313
      Path: /Users/cscheid/repos/github/quarto-dev/quarto-cli/package/dist/bin

[✓] Checking basic markdown render....OK

[✓] Checking Python 3 installation....OK
      Version: 3.10.9
      Path: /Users/cscheid/virtualenvs/homebrew-python3/bin/python3
      Jupyter: 5.1.3
      Kernels: python3, julia-1.6, julia-1.8

[✓] Checking Jupyter engine render....OK

[✓] Checking R installation...........OK
      Version: 4.2.2
      Path: /Library/Frameworks/R.framework/Resources
      LibPaths:
        - /Users/cscheid/repos/github/quarto-dev/quarto-web/renv/library/R-4.2/aarch64-apple-darwin20
        - /private/var/folders/nm/m64n9_z9307305n0xtzpp54m0000gn/T/RtmpXmQfZA/renv-system-library
      rmarkdown: 2.14

[✓] Checking Knitr engine render......OK
```

### Get a stack trace

Setting `QUARTO_PRINT_STACK=true` in your environment will cause Quarto to print a stack trace when an error occurs.

::: panel-tabset

## Windows

On PowerShell:

```powershell
$env:QUARTO_PRINT_STACK = "true"
```

## Unix

On bash-like shells:

```bash
export QUARTO_PRINT_STACK=true
```

:::

### Verbose mode

Quarto will print more information about its internal state if you set `QUARTO_LOG_LEVEL=DEBUG` in your environment.

### Inspect log files {#log-files}

Quarto creates log files that can help you diagnose problems. These are stored in different locations depending on your operating system:

::: panel-tabset

## Windows

`%LOCALAPPDATA%\quarto\logs`

## macOS

`${HOME}/Library/Application Support/quarto/logs`

## Linux

If `$XDG_DATA_HOME` is set, `${XDG_DATA_HOME}/.local/share/quarto/logs`, otherwise `${HOME}/.local/share/quarto/logs`

:::

### Out-of-memory issues

When building a large project or website, you might run into memory limits. In that case, consider the following environment variable.

In this example, we're setting the maximum amount of memory to be allocated by Deno to be 8GB. Adjust this to your computer's limits.

::: panel-tabset

## Windows

On PowerShell:

```powershell
$env:QUARTO_DENO_EXTRA_OPTIONS = "--v8-flags=--max-old-space-size=8192"
```

## Unix

On bash-like shells:

```bash
export QUARTO_DENO_EXTRA_OPTIONS=--v8-flags=--max-old-space-size=8192
```

:::

### Installer issues

::: panel-tabset

## macOS

In macOS, installers write their output to `/var/log/install.log`. Inspecting this file might offer hints to what went wrong.

::: callout-warning

If you're going to ask for help on public forums, be aware that *every* macOS installer writes to the same file `/var/log/install.log`. 
You should make sure you're not accidentally disclosing installation information you would rather not.
:::

:::

### PDF/LaTeX issues

If quarto finds an existing installation of `texlive` in your system, it will use that. If you're seeing
issues with rendering to PDF, make sure you have an up-to-date installation of `texlive`. Alternatively, you can have quarto use its own version, by calling `quarto install tinytex`.

## Environment, Libraries, and Dependencies

One common source of tricky problems is the presence of multiple installations of R and Python in a system. Quarto will attempt to find an R or Python installation, and sometimes your shell environment is pointing to a different one.

### knitr

If you suspect that quarto is finding the wrong version of an R installation, you can obtain information about the R installation that Quarto sees by running the following .qmd file:

````
---
engine: knitr
---

```{{r}}
sessionInfo()
Sys.getenv()
.libPaths()

# If the sessioninfo package is available, 
# it provides output that is easier to read,
# and can write its results to a file
sessioninfo:::session_info(to_file = "quarto-session-info-output.txt")
```
````

You can then also run those commands from your R environment, and compare the output. If `sessioninfo` is available, then you
can ask for a difference between the outputs more directly:

```r
sessioninfo:::session_diff(new = "quarto-session-info-output.txt")
```

## Advanced

### Debugging Jupyter engine issues

To enable Jupyter debugging, add the following to your YAML front matter:

```yml
execute:
  debug: true
```

Quarto creates a log of the execution of jupyter notebooks in its [log directory](#log-files) under `jupyter-kernel.log`.

If Jupyter execution is hanging instead of failing, you can force immediate flushing of the log by setting `QUARTO_JUPYTER_FLUSH_LOGS=true` in your environment before running quarto.

### Debugging Lua filters

#### Useful Lua helper functions

Quarto includes a number of useful Lua helper functions that can be used to debug Lua filters. These are available in the `quarto` module, and can be used as follows:

```lua
quarto.log.output(obj) -- prints a potentially complex object to the console
```

#### Filter tracing

Setting `QUARTO_TRACE_FILTERS=<FILENAME>.json` in your environment will cause Quarto to produce a trace of the Lua filters it runs, and write it to disk. This will be a file written to same the directory of the rendered file. We include an interactive Quarto document that can be used to visualize this trace, which you can find in the `quarto-cli` repository at [`tools/trace-viewer/trace-viewer.qmd`](https://github.com/quarto-dev/quarto-cli/tree/main/tools/trace-viewer/trace-viewer.qmd). Run `quarto preview trace-viewer.qmd`, and you will be shown two text fields, "Trace 1" and "Trace 2". Drag and drop the JSON file onto either of the fields and you will be shown the trace. If you wish to compare two traces, drag them onto the two fields. 



# quarto-web/docs/books/book-basics.qmd

---
title: "Creating a Book"
format:
  html:
    output-file: index.html
---

## Overview

Quarto Books are combinations of multiple documents (chapters) into a single manuscript. Books can be created in a variety of formats:

-   HTML
-   PDF
-   MS Word
-   EPUB
-   AsciiDoc

HTML books are actually just a special type of [Quarto Website](../websites/website-basics.qmd) and consequently support all of the same features as websites including full-text search. The most important difference is that HTML books use chapter numbers and therefore support [Cross References](../authoring/cross-references.qmd) between different chapters.

Here are some examples of books created with Quarto:

| Book                                                                             | Source                                                        |
|----------------------------------------|-------------------------------|
| [R for Data Science](https://r4ds.hadley.nz)                                     | [Code](https://github.com/hadley/r4ds/)                       |
| [Python for Data Analysis](https://wesmckinney.com/book/)                        | [Code](https://github.com/wesm/pydata-book/tree/3rd-edition)  |
| [Visualization Curriculum](https://jjallaire.github.io/visualization-curriculum) | [Code](https://github.com/jjallaire/visualization-curriculum) |

Quarto books can be published to a wide variety of destinations including GitHub Pages, Netlify, RStudio Connect, or any other static hosting service or intranet web server. See the documentation on [Publishing Websites](../publishing/index.qmd) for additional details.


## Quick Start

Follow the Quick Start for your tool of choice to get a simple book up and running. After covering the basics, read on to learn about more advanced book features.

::: {.panel-tabset group="tools-tabset"}

### VS Code

To create a new book project within VS Code, execute the **Quarto: Create Project** command from the command-palette:

![](../websites/images/vscode-create-project-command.png)

Then, select **Book Project**:

![](../websites/images/vscode-create-project-book.png){.border}

You'll be prompted to select a parent directory to create the project within. Then, you'll be asked to name the directory for your book project:

![](../websites/images/vscode-create-project-directory.png){.border}

The new book project will be created and opened within VS Code. Click the **Render** button to preview the book:

![](../websites/images/vscode-create-project-render-book.png)

The preview will show to the right of the source file. As you re-render `index.qmd` or render other files like `intro.qmd`, the preview is automatically updated.


### RStudio

To create a new book project within RStudio, use the **New Project** command and select **Quarto Book**:

:::{layout-ncol="2"}

![](../websites/images/rstudio-project-new-directory.png){.border}

![](../websites/images/rstudio-project-book.png){.border}
:::

Then, provide a directory name and other relevant options for the book:

![](../websites/images/rstudio-project-book-options.png){.border}

Click the **Render** button to preview the book:

![](../websites/images/rstudio-project-book-preview.png)

The preview will show to the right of the source file. As you re-render `index.qmd` or render other files like `intro.qmd`, the preview is automatically updated.


### Terminal

To create a new book project from the Terminal, use the `quarto create project` command, following the prompt to select the type and to provide a name for the project (will be used as the directory name):

```{.bash filename="Terminal"}
quarto create project book mybook
```

This will create the scaffolding for a simple book in the `mybook` sub-directory. Use the `quarto preview` command to render and preview the book:

```{.bash filename="Terminal"}
quarto preview mybook
```

The book preview will open in a new web browser. As you edit and save `index.qmd` (or other files like `intro.qmd`) the preview is automatically updated.

:::


## Workflow

Above we demonstrated how to create and edit a simple book with chapters contained in the files `index.qmd`, `intro.qmd`, `summary.qmd`. Here we'll cover additional aspects of book workflow in more depth.

### Config File

A Quarto project file (`_quarto.yml`) is contained within the book project directory. This file contains the initial configuration for your book. For example:

``` yaml
project:
  type: book

book:
  title: "mybook"
  author: "Jane Doe"
  date: "8/18/2021"
  chapters:
    - index.qmd
    - intro.qmd
    - summary.qmd
    - references.qmd

bibliography: references.bib

format:
  html:
    theme: cosmo
  pdf:
    documentclass: scrreport
  epub:
    cover-image: cover.png
```



See the [Project Basics](../projects/quarto-projects.qmd) article to learn more about working with projects, including how to add custom pre and post render scripts to your book.

### Book Preview

If you are using VS Code or RStudio, the **Render** button automatically renders and runs `quarto preview` in an embedded window. You can also do the same thing from the Terminal if need be:

``` {.bash filename="Terminal"}
# preview the book in the current directory
quarto preview
```

Note that when you preview a book (either using VS Code / RStudio integrated tools or from the terminal)  changes to configuration files (e.g. `_quarto.yml`) as well as book resources (e.g. theme or CSS files) will cause an automatic refresh of the preview.

You can customize the behavior of the preview server (port, whether it opens a browser, etc.) using command line options or the `_quarto.yml` config file. See `quarto preview help` or the [project file reference](/docs/reference/projects/options.qmd#preview) for additional details.


::: callout-important
As you preview your book, chapters will be rendered and updated. However, if you make changes to global options (e.g. `_quarto.yml` or included files) you need to fully re-render your book to have all of the changes reflected. Consequently, you should always fully `quarto render` your site before deploying it, even if you have already previewed changes to some pages with the preview server.
:::

For AsciiDoc Books we recommend using the HTML format to preview your book, read more in [AsciiDoc Books](#asciidoc-books).

### Publishing

When you are ready to publish the book, use the `render` command to render all output formats:

``` {.bash filename="Terminal"}
quarto render
```

If you pass no arguments to `quarto render`, all formats will be rendered. You can also render individual formats via the `--to` argument:

``` {.bash filename="Terminal"}
quarto render           # render all formats
quarto render --to pdf  # render PDF format only
```

The output of your book will be written to the `_book` sub-directory of your book project:

``` {.bash filename="Terminal"}
mybook/
  _book/
    index.html # and other book files
    mybook.pdf
    mybook.epub
```

See the documentation on [Publishing Websites](../publishing/index.qmd) for details on how to publish books to GitHub Pages, Netlify, and other services. Note that in that documentation the `output-dir` may be referred to as `_site`: for publishing books you should use `_book` rather than `_site`.

### AsciiDoc Books {#asciidoc-books}

For AsciiDoc books, we recommend that while you are working on your book, you preview your content using Quarto's built in HTML format, which allows a iterative workflow using the preview capabilities of Quarto. Once you're ready to produce AsciiDoc, you can use the AsciiDoctor tools to compile your book to PDF or HTML output to preview the content in its final rendered form.

#### Previewing PDF with Asciidoctor-pdf

Creating a PDF preview with the AsciiDoc toolchain is a useful way to verify that the AsciiDoc output of your book can be rendered properly. To do this, follow these instructions:

1.  First, install Asciidoctor PDF by following the instructions here: <https://docs.asciidoctor.org/pdf-converter/latest/install/>

2.  From the terminal in the root of your project, use the following command to compile your AsciiDoc book to a PDF:
      
    ``` bash
    $  asciidoctor-pdf _book/book-asciidoc/<title>.adoc
    ```

3.  The PDF will be placed at `_book/book-asciidoc/<title>.pdf`.

#### Previewing HTML with Asciidoctor

Creating an HTML preview the AsciiDoc toolchain is a useful way to verify that the AsciiDoc output of your book can be rendered properly. To do this, follow these instructions:

1.  First, install Asciidoctor by following the instructions here: <https://docs.asciidoctor.org/asciidoctor/latest/install/>

2.  From the terminal in the root of your project, use the following command to compile your AsciiDoc book to a PDF:
    
    ``` bash
    $  asciidoctor _book/book-asciidoc/<title>.adoc
    ```

3.  A single HTML file (with the entire contents of the book) will be placed at `_book/book-asciidoc/<title>.html`. The HTML file will contain references to files and images in the `_book/book-asciidoc/` folder, so the HTML will not display these properly if it is moved without also moving those folders.

## Learning More

Once you've got the basic book template up and running check out these articles for various ways to enhance your book:

- [Book Structure](book-structure.qmd) delves into different ways to structure a book (numbered and unnumbered chapters/sections, creating multiple parts, adding appendices, etc.)

- [Book Crossrefs](book-crossrefs.qmd) explains how to create cross references to sections, figures, tables, equations and more within books.

- [Book Output](book-output.qmd) covers customizing the style and appearance of your book in the various output format as well as how to provide navigation and other tools for readers.

- [Book Options](../reference/projects/books.qmd) provides a comprehensive reference to all of the available book options.

- [Code Execution](../projects/code-execution.qmd) provides tips for optimizing the rendering of books with large numbers of documents or expensive computations.

- [Publishing Websites](../publishing/index.qmd) enumerates the various options for publishing your book as a website including GitHub Pages, Netlify, and RStudio Connect.


# quarto-web/docs/books/book-output.qmd

---
title: "Customizing Book Output"
format: html
project-type: book
---

This article covers customizing the output of book projects, including how to tailor the styles and appearance of books in each supported output format.

## Format Options

If you want to specify rendering options (including format-specific options), you do it within the `_quarto.yml` project file rather than within the individual markdown documents. This is because when rendering a book all of the chapters are combined together into a single document (with a single set of format options).

Here's an example configuration:

``` yaml
highlight-style: pygments

format:
  html:
    theme: cosmo
    code-copy: true
  pdf: default
    
bibliography: references.bib
csl: citestyle.csl
```

Note that in the above configuration the `highlight-style` option applies to all formats whereas the `html` options apply to only HTML output. The bibliography related options naturally also apply to all formats.

## Reader Tools

### Website Tools

HTML books are at their core [Quarto Websites](../websites/website-basics.qmd) with some special navigational behavior built in. This means that all of the features described for enhancing websites are also available for books, including:

-   [Navbars](../websites/website-navigation.html#top-navigation)
-   [Social Metadata](../websites/website-tools.qmd#social-metadata)
-   [Full Text Search](../websites/website-search.html)
-   [Google Analytics](../websites/website-tools.html#google-analytics)
-   [Headers and Footers](../websites/website-tools.html#headers-footers)
-   [Dark Mode](../websites/website-tools.html#dark-mode)

{{< include _book-vs-website-key.qmd >}}



### Sidebar Tools

Books automatically include a navigational sidebar that can optionally include tools for searching book contents, sharing links to the book, etc. Here is an example `_quarto.yml` file that enables these options:

``` yaml
book:
  title: "Hands-On Programming with R"
  author: "Garrett Grolemund"
  search: true
  repo-url: https://github.com/jjallaire/hopr/
  repo-actions: [edit]
  downloads: [pdf, epub]
  sharing: [twitter, facebook]
  
comments:
  hypothesis: true
```

Note the various tools that now appear:

![](images/book-tools.png){.border .preview-image fig-alt="A screen shot of a Quarto page rendered with the options indicated in the immediately preceding yaml. There are icons for accessing the page's Github repo, downloading the page as a PDF, and sharing the page on social media in the top section of the sidebar. Immediately below this in the sidebar is a search bar. There are icons for the Hypothesis collaborative annotation software in the upper right hand corner of the page. There is an 'Edit this Page' link underneath the page table of contents on the right; there is a Github icon to the left of the word 'Edit.'"}

-   The search box enables full text search of the entire book

-   The buttons immediately below the book title in the sidebar provide a link to the GitHub repo for the book, downloads for PDF and ePub versions of the book, and links for sharing the book on Twitter and Facebook.

-   Immediately below the table of contents on the right there is an "Edit this page" link that takes the reader to the edit interface on GitHub for the current chapter. Note that in this example we specify `repo-actions: [edit]`. You can optionally also add `issue` and `source` actions (e.g. `repo-actions: [edit, issue, source]`). There are additional options available (`repo-subdir` and `repo-branch`) for [customizing repository links](../websites/website-navigation.qmd#github-links).

-   The [Hypothesis](https://web.hypothes.is/) commenting bar appears on the far right of the page. Note that [commenting](../output-formats/html-basics.qmd#commenting) is a feature available for all Quarto HTML output so appears in its own YAML key.

#### Sidebar Options

Note that books utilize the standard sidebar component from [Quarto Websites](../websites/website-basics.qmd). This means that you can use any of the available [sidebar options](../websites/website-navigation.qmd#side-navigation) within your `book` configuration. For example, here we specify a docked sidebar with a light background:

``` yaml
book:
  title: "Hands-On Programming with R"
  author: "Garrett Grolemund"
  sidebar:
    style: docked
    background: light
```

## Cover Images

You can provide a cover image for EPUB and/or HTML formats using the `cover-image` option. For example:

``` yaml
book:
  cover-image: cover.png
```

You can also do this on a per-format basis (if for example you want to provide a higher resolution image for EPUB and a lower resolution image for HTML to reduce download time). For example:

``` yaml
format:
   html: 
     cover-image: cover.png
   epub:
     cover-image: cover-highres.png
```

You can specify HTML alt-text for book cover images using the `cover-image-alt` option:

``` yaml
book:
  cover-image: cover.png
  cover-image-alt: |
    Alternative text describing the book cover 
```

## Output Path

By default, book output is written to the `_book` directory of your project. You can change this via the `output-dir` project option. For example:

``` yaml
project:
  type: book
  output-dir: docs
```

Single file outputs like PDF, EPUB, etc. are also written to the `output-dir`. Their file name is derived from the book `title`. You can change this via the `output-file` option:

``` yaml
book:
  title: "My Book"
  output-file: "my-book"
```

Note that the `output-file` should *not* have a file extension (that will be provided automatically as appropriate for each format).

## LaTeX Output

In some cases you'll want to do customization of the LaTeX output before creating the final printed manuscript (e.g. to affect how text flows between pages or within and around figures). The best way to approach this is to develop your book all the way to completion, then render to the `latex` format

``` {.bash filename="Terminal"}
quarto render --to latex
```

The complete LaTeX source code of your book will be output into the `_book/book-latex` directory.  

At this point you should probably make a copy or git branch of the `_book` directory to perform your final LaTeX modifications within (since the modifications you make to LaTeX will not be preserved in your markdown source, and will therefore be overwritten the next time you render).

## HTML Styles

HTML output can be customized either by adding (or enhancing) a custom theme, or by providing an ordinary CSS file. Use the `theme` option to specify a theme:

``` yaml
format:
  html:
    theme: cosmo
```

To further customize a theme add a custom theme file:

``` yaml
format:
  html:
    theme: [cosmo, theme.scss]
```

You can learn more about creating theme files in the documentation on [HTML Themes](../output-formats/html-themes.qmd).

You can also just use plain CSS. For example:

``` yaml
format:
  html:
    css: styles.css
```

## EPUB Styles

You can also use CSS to customize EPUB output:

``` yaml
format:
  epub:
    css: epub-styles.css
    epub-cover-image: epub-cover.png
```

Note that we also specify a cover image. To learn more about other EPUB options, see the Pandoc [documentation on EPUBs](https://pandoc.org/MANUAL.html#epubs).

## PDF Styles

You can include additional LaTeX directives in the preamble of your book using the `include-in-header` option. You can also add `documentclass` and other options (see the Pandoc documentation on [LaTeX options](https://pandoc.org/MANUAL.html#variables-for-latex) for additional details). For example:

``` yaml
format:
  pdf: 
    documentclass: scrbook
    include-in-header: preamble.tex
    fontfamily: libertinus
```

Quarto uses the [KOMA Script](https://ctan.org/pkg/koma-script) `scrreprt` document class by default for PDF books. KOMA-Script classes are drop-in replacements for the standard classes with an emphasis on typography and versatility.

You can switch to KOMA `scrbook` as demonstrated above, or to the standard LaTeX `book` and `report` classes. You can find a summary of the differences between `book` and `report` here: <https://tex.stackexchange.com/questions/36988>

## MS Word Styles

You can customize MS Word output by creating a new [reference doc](https://pandoc.org/MANUAL.html#option--reference-doc), and then applying it to your book as follows:

``` yaml
format:
  docx:
    reference-doc: custom-reference.docx
```

To create a new reference doc based on the Pandoc default, execute the following command:

``` {.bash filename="Terminal"}
quarto pandoc -o custom-reference.docx --print-default-data-file reference.docx
```

Then, open `custom-reference.docx` in MS Word and modify styles as you wish:

![You can open the Styles pane from the HOME tab in the MS Word toolbar.](images/word-styles.png){fig-alt="A screen shot of a Microsoft Word document. The Styles pane is open on the right hand side of the document."}

When you move the cursor to a specific element in the document, an item in the styles list will be highlighted. If you want to modify the style of any type of element, you can click the drop-down menu on the highlighted item, and you will see a dialog box like this:

![](images/word-modify-styles.png){fig-alt="The 'Modify Style' menu from Microsoft Word. The color selection box is open, displaying the color palette."}

After you finish modifying the styles, you can save the document and use it as the template for future Word documents.


# quarto-web/docs/books/book-structure.qmd

---
title: "Book Structure"
format: html
project-type: book
---

## Overview

The structure of a Quarto book can be as simple as a list of chapters, or can alternatively incorporate multiple parts and/or appendices. Quarto book chapters and sections are automatically numbered (for cross-referencing), however you can also specify that some parts of the book should remain unnumbered.

The simple book configuration generated by `quarto create project book` illustrates the basics:

``` yaml
book:
  title: "mybook"
  author: "Jane Doe"
  date: "5/9/2021"
  chapters:
    - index.qmd
    - intro.qmd
    - summary.qmd
    - references.qmd
```

-   The `index.qmd` file is required (because Quarto books also produce a website in HTML format). This page should include the preface, acknowledgements, etc. and headings in the `index.qmd` file are unnumbered by default. The HTML version of the book will use the `index.qmd` as the home page and if provided, will place the `cover-image` on that page.
-   The remainder of `chapters` includes one or more book chapters.
-   The `references.qmd` file will include the generated bibliography (see [References] below for details).

## Titles

Since rendering options are provided in `_quarto.yml`, you'll typically see a simple level-one header at the top of chapters. For example:

``` markdown
# Introduction
```

Note that the following is also still perfectly valid:

``` yaml
---
title: "Introduction"
---
```

## Chapter Numbers

All chapters are numbered by default. If you want a chapter to be unnumbered simply add the `.unnumbered` class to its main header. For example:

``` markdown
# Resources {.unnumbered}
```

You can mix together numbered and unnumbered chapters. Note however that while you can link to unnumbered chapters, you can't [cross reference](../authoring/cross-references.qmd) figures, tables, etc. within them. Unnumbered chapters are therefore mostly useful for prefatory content or references at the end of your book.

## Section Numbers

You can set the numbering depth via the `number-depth` option. For example, to only number sections immediately below the chapter level, use this:

``` yaml
number-depth: 1
```

Note that `toc-depth` is independent of `number-depth` (i.e. you can have unnumbered entries in the TOC if they are masked out from numbering by `number-depth`).

## References

You should include a `div` with the id `#refs` at the location in your book where you'd like the bibliography to be generated. For example the `references.qmd` file generated by `quarto create project book` includes this:

``` markdown
# References {.unnumbered}

::: {#refs}
:::
```

Note that you can change the chapter title to whatever you like, remove `.unnumbered` to have it be numbered like other chapters, and add other content before or after the bibliography as necessary.

## Creating an Index

For PDF output, you can create an index using the LaTeX [makeidx](https://ctan.org/pkg/makeidx?lang=en) package along with the `\index` command.

To add an index to the PDF output for a book, add these `include-in-header` and `include-after-body` entries to your `pdf` format configuration in `_quarto.yml`: quart

``` yaml
format:
  html:
    theme: cosmo
  pdf:
    documentclass: scrreprt
    include-in-header: 
      text: |
        \usepackage{makeidx}
        \makeindex
    include-after-body: 
      text: |
        \printindex
```

Then, add `\index{entry}` commands wherever you want an index entry. For example:

``` latex
Markdown\index{Markdown} allows you to write using
an easy-to-read, easy-to-write plain text format.
```

Note that `\index` commands are automatically ignored for non-PDF output.

## Parts & Appendices

:::{.callout-note}

## Please Note

Note that EPUB and Word (Docx) formats do not currently support organizing books into parts. When rendering a book with parts to these formats, the parts will be ignored.

:::

You can divide your book into parts using `part` within the book `chapters`. For example:

``` yaml
chapters:
  - index.qmd
  - preface.qmd
  - part: dice.qmd
    chapters: 
      - basics.qmd
      - packages.qmd
  - part: cards.qmd
    chapters:
      - objects.qmd
      - notation.qmd
      - modifying.qmd
      - environments.qmd
```

Note that the markdown files `dice.qmd` and `cards.qmd` contain the part title (as a level one header) as well as some introductory content for the part. If you just need a part title then you can alternatively use this syntax:

``` yaml
- part: "Dice"
  chapters: 
    - basics.qmd
    - packages.qmd
```

You can include appendices by adding an `appendices` key to your `book` config. For example:

``` yaml
book:
  title: "mybook"
  author: "Jane Doe"
  date: "5/9/2021"
  chapters:
    - index.qmd
    - intro.qmd
    - summary.qmd
    - references.qmd
  appendices:
    - tools.qmd
    - resources.qmd
  
```

Parts and appendices show up like this in HTML output:

![](images/book-parts-appendices.png){.border fig-alt="A screenshot of the welcome page of a book rendered with Quarto. In the sidebar, content is separated by three different bold section titles. From top to bottom, these are: 'PROJECT 1: WEIGHTED DICE', 'PROJECT 2: PLAYING CARDS', and 'APPENDICES.'"}

In LaTeX output, the `\part` command is used for parts. In EPUB and MS Word output parts are ignored entirely.

Appendices are numbered using uppercase alpha, and have a prefix inserted into their title to indicate they are an appendix (e.g. "Appendix A --- Additional Resources"). You can customize the prefix and delimiter using the following options:

``` yaml
crossref:
  appendix-title: "App."
  appendix-delim: ":"
```

Which would result in the above example being output as: "App. A: Additional Resources".

{{< include ../websites/_page-navigation.md >}} {{< include ../websites/_footer.md >}}


# quarto-web/docs/books/book-crossrefs.qmd

---
title: "Book Crossrefs"
---

## Overview

One important difference between creating a website and a book is that in addition to their web output, books can also be rendered as a single continuous document (e.g a PDF or MS Word document). Books also may or may not be read digitally (which means that internal hyperlinks may or may not be available).

To create books that are consumable in all of these mediums, special care should be taken when creating links to other chapters or sections within chapters (note though that if your book targets *only* HTML output you can feel free to use conventional hyperlinks).

Quarto cross references provide automatic numbering and reference creation for figures, tables, equations, sections, listings, theorems, and proofs. In books, cross references work the same way except they can reach across chapters.

If you aren't already familiar with using crossrefs you may want to read the documentation on [cross references](../authoring/cross-references.qmd) before reading on about how they work with books.

## Creating References

To reference a figure, table, or other cross-referenceable entity, use the `@` syntax (similar to citations) along with the ID / label of the entity you are referencing: For example:

``` markdown
See @fig-penginus-by-island for a breakdown by island.
```

References made this way will be automatically resolved across chapters (including the requisite chapter number in the reference).

To make a chapter or section reference-able, you add a `#sec` prefix to its main heading. For example:

``` markdown
# Introduction {#sec-introduction}
```

::: callout-important
## Label Prefix

In order for a chapter to be cross-referenceable, its label must start with the `sec-` prefix.
:::


To refer to a section, include a cross-reference to it using an `@` identifier as we did above in the figure example:

``` markdown
See @sec-introduction for additional discussion.
```

To refer to a chapter or appendix explicitly you should spell out "Chapter" or "Appendix" and use the number-only form of cross reference:

``` markdown
See [Chapter -@sec-visualization] for more details on visualizing model diagnostics.
```


## Section Numbers

By default, all headings in your document create a numbered section. You customize numbering depth using the `number-depth` option. For example, to only number sections immediately below the chapter level, use this:

``` yaml
number-depth: 2
```

Note that `toc-depth` is independent of `number-depth` (i.e. you can have unnumbered entries in the TOC if they are masked out from numbering by `number-depth`).

## Chapter Numbering

In books, figures, tables and other cross-reference targets automatically include a chapter number. For example, the following markdown located in Chapter 3 of your book:

``` markdown
As illustrated in @fig-geo-comparison, the western states have a much higher incidence of forest fires.
```

Might be rendered as:

> As illustrated in [fig. 3.2](#), the western states have a much higher incidence of forest fires.

Note that while books do support unnumbered chapters, you naturally cannot create cross-references to content in chapters without numbers.

## Hyperlinks

If you are creating an HTML-only book (or a PDF / MS Word book that you don't expect will be printed) then you can feel free to use normal hyperlinks rather than section cross-references.

To create a hyperlink within a book, provide the source file as the link target. You can also add hash identifiers (`#`) to the source file if you want to link to a particular section in the document. For example:

``` markdown
[about](about.qmd)
[about](about.qmd#section)
```

Using the source file as the link target ensures that links will be resolved correctly both for HTML output and for formats that produce a single file (e.g. PDF or MS Word).

Note that if you are targeting printed output for your book you should use explicit cross references to other chapters and sections rather than simple links as shown above. This is because In printed output links aren't navigable so you need to provide readers with numbered references (e.g. "sec. 5.3") rather than hyperlinks.


# quarto-web/docs/books/_book-vs-website-key.qmd

One important thing to note about using website tools is that while these tools are added to websites within the `website` key, in a book you should include the same options in the `book` key. For example, in a website you would include a favicon and twitter card as follows:

```yaml
website:
  favicon: logo.png
  twitter-card: true
  site-url: https://example.com
```

In a book you'd use the `book` key instead:

```yaml
book:
  favicon: logo.png
  twitter-card: true
  site-url: https://example.com
```



# quarto-web/docs/blog/index.qmd

---
title: Quarto Blog
subtitle: News, tips, and commentary about all things Quarto
listing:
  sort: "date desc"
  contents: "posts/*/index.qmd"
  sort-ui: false
  filter-ui: false
  categories: true
  feed: true
page-layout: full
margin-header: signup.html
title-block-banner: "#EDF3F9"
title-block-banner-color: body
search: false
image: quarto-blog-v2.png
---


# quarto-web/docs/blog/posts/_quarto-1.3-feature.qmd

::: callout-note
## Quarto 1.3 Feature

This post is part of a series highlighting new features in the 1.3 release of Quarto. Get the latest release at <https://quarto.org/docs/download>.
:::


# quarto-web/docs/blog/posts/2022-06-21-rstudio-conf-2022-quarto/index.qmd

---
title: Quarto at rstudio::conf(2022)
subtitle: Quarto-related workshops and talks at rstudio::conf(2022)
description: | 
    [rstudio::conf(2022)](https://rstd.io/conf) will feature a variety of workshops and talks on Quarto. Join us in Washington DC this July 25-28 to learn more about Quarto and hear from folks using Quarto to create, share, and collaborate.
categories:
  - conf
  - workshop
  - talk
author: Mine Çetinkaya-Rundel
date: "6/21/2022"
image: conf2022.png
image-alt: "rstudio:conf(2022) logo: orange background with the outline of the Washington DC skyline."
---

[rstudio::conf(2022)](https://rstd.io/conf) will feature a variety of workshops and talks on Quarto. Join us in Washington DC this July 25-28 to learn more about Quarto and hear from folks using Quarto to create, share, and collaborate.

![](conf2022.png){.preview-image fig-alt="rstudio::conf(2022) logo: orange background with the outline of the Washington DC skyline." fig-align="center"}

Here is a list of Quarto-related talks and workshops (and scroll down for details on each):

-   Keynote: [Reimagine + Collaborate + Share with Quarto](https://sched.co/11iZo)
-   Workshops:
    -   [Getting Started with Quarto](https://www.rstudio.com/conference/2022/workshops/get-started-quarto/)
    -   [From R Markdown to Quarto](https://www.rstudio.com/conference/2022/workshops/rmd-to-quarto/)
-   Talks:
    -   [Quarto for R Markdown users](https://sched.co/11iZa)
    -   [These are a few of my favorite things (about Quarto presentations)](https://sched.co/11ibN)
    -   [Literate Programming With Jupyter Notebooks and Quarto](https://sched.co/11ibe)
    -   [Websites & Books & Blogs, oh my! Creating Rich Content with Quarto](https://sched.co/11ibV)

## Keynote

[**Reimagine + Collaborate + Share with Quarto**](https://sched.co/11iZo) **(Keynote)**: [(Talk recording)](https://www.rstudio.com/conference/2022/keynotes/collaborate-with-quarto/)

-   Presented by [Julia Stewart Lowndes](https://jules32.github.io/) (Director, Openscapes) and [Mine Çetinkaya-Rundel](http://mine-cr.com/) (Developer Educator at RStudio and Professor at Duke University).
-   Thursday July 28, 9:00am - 10:00am EDT.
-   What is Quarto? In this talk, in four acts, we will discuss how Quarto unifies and extends the R Markdown ecosystem. Through our work with NASA Openscapes, Duke University, and RStudio, we will share our experiences authoring, teaching, and collaborating with Quarto. Full of demos with Quarto in RStudio and Jupyter and weaving together narrative, R, and Python code, we will showcase features of Quarto that have enabled us to reimagine our reproducible workflows. This talk will help you get the most out of Quarto regardless of your background with R Markdown, the computing language(s) you use, and your tool of choice for authoring.

## Workshops

We will have two Quarto workshops at the conference, held on July 25-26, one for those who have no or little prior experience with R Markdown and the other for those who want to take their R Markdown skills and expertise and apply them in Quarto.

-   [**Getting Started with Quarto**](https://www.rstudio.com/conference/2022/workshops/get-started-quarto/)**:** This workshop is designed for those who have no or little prior experience with R Markdown. In this 2 day workshop you will learn about the Quarto format for technical communication and computation. The workshop will teach you how to get started creating and fully customizing Quarto outputs (HTML, PDF, Presentations) and the use of RStudio's Visual Editor which provides a user interface for editing all of Pandoc markdown. The workshop will also provide an overview of Quarto's developer tooling support in alternative tools such as Jupyter, VS Code, and any text editors. The workshop will briefly cover how to add interactivity to Quarto with Shiny, Observable JS, htmlwidgets or Jupyter Widgets. Lastly, the workshop will cover Quarto Projects for aggregating many files such as complex web sites or entire books. Presented by [Tom Mock](https://themockup.blog/about.html), Customer Enablement Lead at RStudio, this workshop will be appropriate for attendees who answer yes to these questions:

    -   Have you programmed in R and want to better encapsulate your code, documentation, and outputs in a cohesive "data product"?
    -   Do you want to learn about the next generation of RMarkdown for data science?
    -   Do you want to have a better interactive experience when writing technical or scientific documents with literate programming?

    Find out more about this workshop and register at [https://www.rstudio.com/conference/2022/workshops/get-started-quarto/](https://www.rstudio.com/conference/2022/workshops/get-started-quarto).

-   [**From R Markdown to Quarto**](https://www.rstudio.com/conference/2022/workshops/rmd-to-quarto)**:** This workshop is designed for those who want to take their R Markdown skills and expertise and apply them in Quarto. In this workshop you will learn how to apply your reproducible authoring skills to the Quarto format and learn about new tools and workflows for authoring with Quarto in RStudio. You will learn to create static documents, to add interactivity to them with Shiny and htmlwidgets, and to create presentations in various formats such as reveal.js, beamer, and pptx. The workshop will also introduce you to Quarto projects which you can use to build websites and write blogs and books. Finally, you will learn various ways to deploy and publish your Quarto projects on the web. Independent modules will also highlight authoring in Quarto with Jupyter and VS Code as well as other text editors. Presented by [Andrew Bray](https://bids.berkeley.edu/people/andrew-bray), Associate Teaching Professor in the Department of Statistics at UC Berkeley, this workshop will be appropriate for you if you answer yes to any of these questions:

    -   Have you authored R Markdown documents and are you interested in migrating your workflow to its successor format, Quarto?
    -   Are you interested in exploring the wide spectrum of documents that can be produced with Quarto, including static documents, websites, and slides?

    Find out more about this workshop and register at <https://www.rstudio.com/conference/2022/workshops/rmd-to-quarto>.

## Talks

-   [**Quarto for R Markdown users**](https://sched.co/11iZa): [(Talk recording)](https://www.rstudio.com/conference/2022/talks/quarto-for-rmarkdown-users/)
    -   Presented by [Tom Mock](https://themockup.blog/about.html), Customer Enablement Lead at RStudio.
    -   Wednesday July 27, 3:20pm - 3:40pm EDT.
    -   Are you curious about Quarto? Maybe you saw it on Twitter or the RStudio::conf agenda. Perhaps this raised questions like: What exactly is Quarto? What about RMarkdown? (don't worry it's not going away!) What features does Quarto add? What should I do with my existing Rmd/ipynb files? This talk will answer all of those questions and more! I'll present Quarto as a next-gen version of RMarkdown, compare the similarities, and then discuss the new features in Quarto for publishing documents, presentations, blog posts, lab notebooks and more! Lastly, I'll cover what this means for our customers using RStudio Team, and the exciting new world for Python users.
-   [**These are a few of my favorite things (about Quarto presentations)**](https://sched.co/11ibN): [(Talk recording)](https://www.rstudio.com/conference/2022/talks/my-favorite-things-quarto-presentations/)
    -   Presented by [Tracy Teal](https://twitter.com/tracykteal), Open Source Program Director at RStudio.
    -   Thursday July 28, 2022 3:20pm - 3:40pm EDT.
    -   Quarto is the next generation of RMarkdown, and comes with a new presentation format, revealjs. In this talk, I'll show a few of my favorite things about making interactive HTML presentations with Quarto. Along the way you'll learn about the visual editor, multiple columns, delivering an effective talk with speaker notes and mode, making your presentations pop with transitions, effective ways to incorporate code into your presentation, beautiful themes (and how to match your corporate style guide), and sharing it as pdf and HTML. I'll finish off with a brief look at generating a PowerPoint presentation from a template.
-   [**Literate Programming With Jupyter Notebooks and Quarto**](https://sched.co/11ibe): [(Talk recording)](https://www.rstudio.com/conference/2022/talks/literate-programming-quarto/)
    -   Presented by [Hamel Husain](https://hamel.dev/), head of Data Science at [Outerbounds](https://outerbounds.com/) (the developers of [Metaflow](https://metaflow.org/)) and core developer at [fast.ai](https://www.fast.ai/).
    -   Thursday July 28, 3:40pm - 4:00pm EDT.
    -   Jupyter Notebooks play a critical role in in the workflow of many users. Notebooks are used to document existing code, to quickly prototype and iterate on ideas, and as a medium of technical communication. However, package developers typically use an entirely separate set of more traditional development tools, and the context switching between these tools and notebooks can be frustrating. Not only do you lose the ability to iterate fast, but you lose the ability to document and test your code in-situ, requiring you to create documentation and tests separately from source code. Nbdev is a literate programming framework that allows you to develop Python libraries within Jupyter Notebooks. This talk will describe the integration between Nbdev and Quarto, which enables library developers to author their documentation right alongside their code, and automatically produce a Quarto website for their package. The result is a seamless workflow for developing, documenting, and testing software packages all within Jupyter Notebooks, with no context-switching required.
-   [**Websites & Books & Blogs, oh my! Creating Rich Content with Quarto**](https://sched.co/11ibV): [(Talk recording)](https://www.rstudio.com/conference/2022/talks/sessions/quarto-deep-dive/websites-books-blogs-quarto/)
    -   Presented by [Devin Pastoor](https://github.com/dpastoor), Solutions Engineer at RStudio.
    -   Thursday July 28, 4:00pm - 4:20pm EDT.
    -   A number of packages have emerged in the R ecosystem to help create websites (hugodown), books (bookdown), and blogs (blogdown). In this talk, I'll show you how Quarto handles creating these types of content and more. Whether you're a grad student considering your first blog post about R, or a python expert about to write a technical book, I'll show you how Quarto enables you to focus on content while it takes care of the rest. In addition, I'll show the RStudio team is making it as easy as possible to publish and share content within your organization and to the whole community.

To find out more about the conference and register, visit [rstd.io/conf](https://rstd.io/conf). Looking forward to seeing you in DC!

Can't make it to the conference in person, but don't want to miss this content? You can follow along with the talks remotely via the live stream and we will share materials from the workshops in a post-conf roundup post.


# quarto-web/docs/blog/posts/2023-04-26-1.3-release/index.qmd

---
title: Quarto 1.3 
subtitle: Quarto 1.3 is officially released
description: |
  Quarto 1.3 brings new features, improvements, and fixes.
categories:
  - Quarto 1.3
author: Charlotte Wickham
date: "04/26/2023"
image: "arthur-chauvineau-Dn7P1U26ZkE-unsplash.jpeg"
image-alt: "Fireworks with a silhouette of an audience"
---

We are happy to announce that Quarto 1.3 has been released. You can grab the current release from <https://quarto.org/docs/download/>.

If you are ever wondering which version of Quarto you are using, a quick way to check on the command line is:

``` {.bash filename="Terminal"}
quarto --version
```

We've previously blogged about some of the features of this release that we were most excited about, but let's highlight them again.

## Code Annotation

You can now add line-based annotations to your code blocks using special code comments along with an ordered list. Code annotations work across many formats, and are interactive in HTML-based formats.

![Code Annotation in an HTML document](../2023-03-13-code-annotation/annotation.png){fig-alt="Screenshot a code chunk with annotations. Annotations appear in the code chunk as numbers within circles, and repeat below the code chunk along with the text content of the annotations."}

To learn more, check out the [Code Annotation](/docs/authoring/code-annotation.qmd) documentation.

## Multi-format Publishing

HTML pages (either standalone or in a website) now automatically include links to other formats specified in the document front matter. For example, the following document front matter:

``` yaml
title: Sample Page
author: Norah Jones
date: last-modified
toc: true
format: 
  html: default
  ipynb: default
```

Results in an HTML page that includes a link to the additional notebook format in the right margin below the table of contents:

![An HTML document with a link to another format](../../../output-formats/images/other-format.png){.border fig-alt="Screenshot of an HTML page that includes a link to the Jupyter format below the table of contents under the heading Other Formats."}

Find out more in the documentation on [Including Other Formats](/docs/output-formats/html-multi-format.qmd).

## Jupyter Cell Embedding

Easily include the output of an external Jupyter notebook in a Quarto document with the `embed` shortcode. Provide the path to a Jupyter Notebook and a cell identifier and the output will be included in your document along with a link back to the source Notebook.

![A plot embedded in a document from a Jupyter Notebook](../2023-03-17-jupyter-cell-embedding/embed.png){fig-alt="A screenshot of a Quarto page that includes a plot, below the plot is the phrase Source: penguins.ipynb."}

Learn more about the embed shortcode in [Embedding Jupyter Notebook Cells](/docs/authoring/notebook-embed.qmd) in the docs.

## Confluence Publishing

[Atlassian Confluence](https://www.atlassian.com/software/confluence) is a publishing platform for supporting team collaboration. Quarto now provides support for publishing individual documents, as well as projects composed of multiple documents, into [Confluence Spaces](https://support.atlassian.com/confluence-cloud/docs/use-spaces-to-organize-your-work/).

::: {layout="[800,969]"}
![A Quarto Project](../../../publishing/images/confluence-project.png){fig-alt="A screenshot of a Quarto project in VS Code. On the left in the Explorer, the project folder is called 'Guide-site', and contains folders 'authoring', and 'computation', along with some other files. A document from the folder 'python' inside the folder 'computations' with the title 'Using Python - site' is open in the Source Pane. "}

![Published to Confluence](../../../publishing/images/confluence-site.png){fig-alt="A screenshot of Space in Confluence. On the left in the Sdiebar under Pages is a page called 'Guide-site'. Nested under this page are pages called 'authoring', and 'computation', along with some other pages. The 'computation' page item is expanded and shows a page called 'Using Python - site', nested under a page called 'python'. A page is displayed on the right with the title 'Using Python - site'"}
:::

To learn more, head to the documentation on [Confluence Publishing](/docs/publishing/confluence.qmd).

## Other Highlights

Some other notable highlights include:

-   [Article Grid Customization](/docs/output-formats/page-layout.qmd#grid-customization)---Customize the widths of layout components in HTML documents

-   [Quarto Book AsciiDoc Support](/docs/books/book-basics.qmd)---Output Quarto books to AsciiDoc files

-   [Website Navigation Improvements](/docs/prerelease/1.3/website-nav.qmd)---Include tools in your navbar, and provide better navigation for Quarto websites on mobile devices

-   [Mermaid Diagram Theming](/docs/authoring/diagrams.qmd#mermaid-theming)---Use your document theme, or built-in Mermaid themes, for your Mermaid diagrams 

-   [PDF: SVG and Remote Images](/docs/prerelease/1.3/pdf.qmd)---Include SVG images and remote images in PDF documents

-   [`kbd` Shortcode](/docs/authoring/markdown-basics.qmd#keyboard-shortcuts)---Show well-formatted keyboard shortcuts in Quarto documents.

You can find all the other changes in 1.3, in the [Release Notes](https://quarto.org/docs/download/#download-section-news).

## Acknowledgements

We'd like to say a huge thank you to everyone who contributed to this release by opening issues and pull requests:

[ABohynDOE](https://github.com/ABohynDOE), [aborruso](https://github.com/aborruso), [agerlach](https://github.com/agerlach), [aimundo](https://github.com/aimundo), [alperyilmaz](https://github.com/alperyilmaz), [ameliaritger](https://github.com/ameliaritger), [anaveenan](https://github.com/anaveenan), [andrewheiss](https://github.com/andrewheiss), [apreshill](https://github.com/apreshill), [apsteinmetz](https://github.com/apsteinmetz), [arnaudgallou](https://github.com/arnaudgallou), [aronatkins](https://github.com/aronatkins), [arronlacey](https://github.com/arronlacey), [ArturKlauser](https://github.com/ArturKlauser), [astrowonk](https://github.com/astrowonk), [ats](https://github.com/ats), [awehrfritz](https://github.com/awehrfritz), [b-rodrigues](https://github.com/b-rodrigues), [baptiste](https://github.com/baptiste), [batpigandme](https://github.com/batpigandme), [bayeslearner](https://github.com/bayeslearner), [benabel](https://github.com/benabel), [BertTijhuis](https://github.com/BertTijhuis), [boshek](https://github.com/boshek), [brunomioto](https://github.com/brunomioto), [busemorose](https://github.com/busemorose), [bvancil](https://github.com/bvancil), [bwelman](https://github.com/bwelman), [cboettig](https://github.com/cboettig), [cgoo4](https://github.com/cgoo4), [ChoCho66](https://github.com/ChoCho66), [cicarrascog](https://github.com/cicarrascog), [coatless](https://github.com/coatless), [code86](https://github.com/code86), [condwanaland](https://github.com/condwanaland), [daniel-smit-haw](https://github.com/daniel-smit-haw), [daranzolin](https://github.com/daranzolin), [davidbudzynski](https://github.com/davidbudzynski), [DavidD003](https://github.com/DavidD003), [ddobrinskiy](https://github.com/ddobrinskiy), [dgkf](https://github.com/dgkf), [DhruvaSambrani](https://github.com/DhruvaSambrani), [directknowledge](https://github.com/directknowledge), [dkubek](https://github.com/dkubek), [dmalan](https://github.com/dmalan), [dmenne](https://github.com/dmenne), [drcaprosser](https://github.com/drcaprosser), [drscotthawley](https://github.com/drscotthawley), [edoson](https://github.com/edoson), [eeholmes](https://github.com/eeholmes), [eitsupi](https://github.com/eitsupi), [elgabbas](https://github.com/elgabbas), [EllaKaye](https://github.com/EllaKaye), [emmansh](https://github.com/emmansh), [ericvmai](https://github.com/ericvmai), [espinielli](https://github.com/espinielli), [etiennebacher](https://github.com/etiennebacher), [EvoArt](https://github.com/EvoArt), [fire](https://github.com/fire), [fortunewalla](https://github.com/fortunewalla), [freestatman](https://github.com/freestatman), [fuhrmanator](https://github.com/fuhrmanator), [fulem](https://github.com/fulem), [g-simmons](https://github.com/g-simmons), [gadenbuie](https://github.com/gadenbuie), [GegznaV](https://github.com/GegznaV), [ghost](https://github.com/ghost), [giabaio](https://github.com/giabaio), [githubpsyche](https://github.com/githubpsyche), [GraceEMc](https://github.com/GraceEMc), [gregswinehart](https://github.com/gregswinehart), [GShotwell](https://github.com/GShotwell), [guoruizhong](https://github.com/guoruizhong), [harrelfe](https://github.com/harrelfe), [hemonika](https://github.com/hemonika), [henningsway](https://github.com/henningsway), [iandol](https://github.com/iandol), [ijlyttle](https://github.com/ijlyttle), [iusgit](https://github.com/iusgit), [ivanek](https://github.com/ivanek), [jake-wittman](https://github.com/jake-wittman), [jakobarendt](https://github.com/jakobarendt), [jakub-jedrusiak](https://github.com/jakub-jedrusiak), [javajon](https://github.com/javajon), [jcmkk3](https://github.com/jcmkk3), [jcolomb](https://github.com/jcolomb), [jdutant](https://github.com/jdutant), [JeffreyRacine](https://github.com/JeffreyRacine), [jensschroer](https://github.com/jensschroer), [jeremiahpslewis](https://github.com/jeremiahpslewis), [jfbarthelemy](https://github.com/jfbarthelemy), [jhelvy](https://github.com/jhelvy), [Jiayou-Chao](https://github.com/Jiayou-Chao), [jimjam-slam](https://github.com/jimjam-slam), [jkylearmstrong](https://github.com/jkylearmstrong), [jmbarbone](https://github.com/jmbarbone), [jmbuhr](https://github.com/jmbuhr), [jmcastagnetto](https://github.com/jmcastagnetto), [joelvonrotz](https://github.com/joelvonrotz), [JoFrhwld](https://github.com/JoFrhwld), [johannes4998](https://github.com/johannes4998), [jrcuesta](https://github.com/jrcuesta), [jthomasmock](https://github.com/jthomasmock), [juba](https://github.com/juba), [justanothergithubber](https://github.com/justanothergithubber), [KaiWaldrant](https://github.com/KaiWaldrant), [kalenkovich](https://github.com/kalenkovich), [kdheepak](https://github.com/kdheepak), [kelly-sovacool](https://github.com/kelly-sovacool), [KittJonathan](https://github.com/KittJonathan), [kmasiello](https://github.com/kmasiello), [knuesel](https://github.com/knuesel), [koehlerson](https://github.com/koehlerson), [koushikkhan](https://github.com/koushikkhan), [lcnbr](https://github.com/lcnbr), [leovan](https://github.com/leovan), [linogaliana](https://github.com/linogaliana), [m-legrand](https://github.com/m-legrand), [m4jing](https://github.com/m4jing), [machow](https://github.com/machow), [maelle](https://github.com/maelle), [malcolmbarrett](https://github.com/malcolmbarrett), [marierivers](https://github.com/marierivers), [MattF-NSIDC](https://github.com/MattF-NSIDC), [mattsams89](https://github.com/mattsams89), [mattwarkentin](https://github.com/mattwarkentin), [maxdrohde](https://github.com/maxdrohde), [mccarthy-m-g](https://github.com/mccarthy-m-g), [MHellmund](https://github.com/MHellmund), [mikheyev](https://github.com/mikheyev), [mine-cetinkaya-rundel](https://github.com/mine-cetinkaya-rundel), [mksinicus](https://github.com/mksinicus), [mrajeev08](https://github.com/mrajeev08), [nanxstats](https://github.com/nanxstats), [NeubertJonas](https://github.com/NeubertJonas), [nikcleju](https://github.com/nikcleju), [njbart](https://github.com/njbart), [patrickvdb](https://github.com/patrickvdb), [petrbouchal](https://github.com/petrbouchal), [philip-khor](https://github.com/philip-khor), [philwunderlich](https://github.com/philwunderlich), [Pierre9344](https://github.com/Pierre9344), [pitmonticone](https://github.com/pitmonticone), [pmagwene](https://github.com/pmagwene), [poldrack](https://github.com/poldrack), [pommevilla](https://github.com/pommevilla), [psychelzh](https://github.com/psychelzh), [ratnanil](https://github.com/ratnanil), [ravimakhija](https://github.com/ravimakhija), [RaymondBalise](https://github.com/RaymondBalise), [reuning](https://github.com/reuning), [rexdouglass](https://github.com/rexdouglass), [rgaiacs](https://github.com/rgaiacs), [richardsprague](https://github.com/richardsprague), [rjake](https://github.com/rjake), [rleyvasal](https://github.com/rleyvasal), [rmcd1024](https://github.com/rmcd1024), [RobTour](https://github.com/RobTour), [rsenft1](https://github.com/rsenft1), [runlevel0](https://github.com/runlevel0), [sagikazarmark](https://github.com/sagikazarmark), [salim-b](https://github.com/salim-b), [SamEdwardes](https://github.com/SamEdwardes), [samperman](https://github.com/samperman), [schochastics](https://github.com/schochastics), [ScientiaFelis](https://github.com/ScientiaFelis), [scottamain](https://github.com/scottamain), [scottfranz](https://github.com/scottfranz), [sebastian-c](https://github.com/sebastian-c), [seeM](https://github.com/seeM), [shafayetShafee](https://github.com/shafayetShafee), [singuyenmai](https://github.com/singuyenmai), [sje30](https://github.com/sje30), [snhansen](https://github.com/snhansen), [streepvaren](https://github.com/streepvaren), [thedabs91](https://github.com/thedabs91), [thomashallam](https://github.com/thomashallam), [timothee-bacri](https://github.com/timothee-bacri), [tomshafer](https://github.com/tomshafer), [tomsutch](https://github.com/tomsutch), [tomvaneyck](https://github.com/tomvaneyck), [topepo](https://github.com/topepo), [tverbeiren](https://github.com/tverbeiren), [TylerHillery](https://github.com/TylerHillery), [ucpresearch](https://github.com/ucpresearch), [verbalins](https://github.com/verbalins), [vfacta](https://github.com/vfacta), [vlyubchich](https://github.com/vlyubchich), [VMTdeJong](https://github.com/VMTdeJong), [vpratz](https://github.com/vpratz), [white-c](https://github.com/white-c), [wklimowicz](https://github.com/wklimowicz), [XiangyunHuang](https://github.com/XiangyunHuang), [Xitian9](https://github.com/Xitian9), [xl0](https://github.com/xl0), [xtimbeau](https://github.com/xtimbeau), [y9c](https://github.com/y9c), [yevgenryeznik](https://github.com/yevgenryeznik), [zachcp](https://github.com/zachcp), [zkwabm](https://github.com/zkwabm)


# quarto-web/docs/blog/posts/2022-10-25-shinylive-extension/index.qmd

---
title: Shinylive Extension
subtitle: Embed Shinylive applications in Quarto documents
description: |
  With Shinylive, you can embed Shiny for Python applications into Quarto documents and run the entire application (including the Python runtime) inside the user's web browser.
categories:
  - Extensions
  - Features
author: Winston Chang
date: "10/25/2022"
image: shinylive-embedded-app.png
image-alt: "Screenshot of a Quarto document with an embedded Shinylive application."
---


The new [Shinylive Quarto extension](https://github.com/quarto-ext/shinylive) makes it easy to embed Shiny for Python applications in your Quarto documents. This makes it possible to add interactivity to your documents with just Python code. For example, you can include an interactive Shiny application like this, directly inside your Quarto document.

[![](shinylive-embedded-app.png){.preview-image fig-align="center" fig-alt="Shinylive appplication embedded in a Quarto document."}](https://quarto-ext.github.io/shinylive/sine.html)

In case you're not already familiar with Shiny, here's some background: [Shiny](https://shiny.rstudio.com/) is a framework for creating web applications. Shiny was originally just for R, but we've recently released an alpha version of [Shiny for Python](https://shiny.rstudio.com/py/).

One of the exciting new features of Shiny for Python is a deployment method called Shinylive: the application can be run entirely within the browser, without needing a remote server running Python. Instead, Python runs _in the web browser_, thanks to the magic of [WebAssembly](https://webassembly.org/). In essence, but the server and client sides of the Shiny application run in the browser.

The Shiny for Python [website](https://shiny.rstudio.com/py/) contains many interactive, editable Shiny applications, and is built using this extension.

Bear in mind that not all Shiny applications can be deployed with Shinylive, in part because not all Python packages can run in WebAssembly -- but for those that can, this extension makes it possible to deploy the Quarto document with the embedded application on any web hosting service. To learn more about Shinylive, see [this page](https://shiny.rstudio.com/py/docs/shinylive.html).

The new Shinylive Quarto extension makes it easy to embed Shiny for Python applications in Quarto documents. This is a great way of adding interactive components to your Quarto document. And, once again, you don't need a server running Python to share these Quarto documents -- just deploy the generated files as you would for any other Quarto website.





# quarto-web/docs/blog/posts/2022-07-25-feature-extensions/index.qmd

---
title: Quarto Extensions
subtitle: Extend Quarto with new capabilities
description: | 
    Quarto Extensions are a powerful way to modify or extend the behavior of Quarto, and can be created and distributed by anyone. Extension types include filters, shortcodes, and custom formats.
categories:
  - Extensions
  - Features
author: J.J. Allaire
date: "7/25/2022"
image: extensions.png
image-alt: "The main page for the quarto-ext GitHub organization which lists extensions published by the Quarto core team."
---

Quarto Extensions are a powerful way to modify or extend the behavior of Quarto, and can be created and distributed by anyone. There are three types of extensions available:

-   [Shortcodes](../../../extensions/shortcodes.qmd) are special markdown directives that generate various types of content. For example, you could create shortcodes to embed tweets or videos in a document.

-   [Filters](../../../extensions/filters.qmd) are a flexible and powerful tool for introducing new global behaviors and/or new markdown rendering behaviors. For example, you could create filters to implement output folding, an image carousel, or just about anything you can imagine!

-   [Formats](../../../extensions/formats.qmd) enable you to create new output formats by bundling together document options, templates, stylesheets, and other content.

Here are some examples of extensions developed and maintained by the core Quarto team:

| **Extension**                                                        | **Description**                                                                                 |
|------------------------------|------------------------------------------|
| [lightbox](https://github.com/quarto-ext/lightbox/)                  | Create lightbox treatments for images in your HTML documents.                                   |
| [fancy-text](https://github.com/quarto-ext/fancy-text)               | Output nicely formatted versions of fancy strings such as LaTeX and BibTeX in multiple formats. |
| [fontawesome](https://github.com/quarto-ext/fontawesome)             | Use Font Awesome icons in HTML and PDF documents.                                               |
| [latex-environment](https://github.com/quarto-ext/latex-environment) | Quarto extension to output custom LaTeX environments.                                           |

: {tbl-colwidths="\[30,70\]"}

To learn more about using extensions, see the [Extensions](../../../extensions/index.qmd) documentation on the Quarto website. If you want to dive in to creating your own extensions check out the articles on [Creating Shortcodes](../../../extensions/shortcodes.qmd), [Creating Filters](../../../extensions/filters.qmd), and [Creating Formats](../../../extensions/formats.qmd).


# quarto-web/docs/blog/posts/2022-02-13-feature-callouts/index.qmd

---
title: Using Callouts
subtitle: Use callouts to draw attention to important complementary content without interupting the document flow
description: |
  Callouts are an excellent way to draw extra attention to certain concepts, or to more clearly indicate that certain content is supplemental or applicable to only some scenarios.
categories:
  - Features
  - Authoring
author: Charles Teague
date: 2/13/2022
image: callouts.png
image-alt: "Three calout boxes: A note (has a blue banner with info icon preceding the header), a tip (has a green banner with lightbulb icon preceding the header), and an important (has a red banner with info exclamation-point icon preceding the header)."
---

Callouts are an excellent way to draw extra attention to certain concepts, or to more clearly indicate that certain content is supplemental or applicable to only some scenarios.

![](callouts.png){.preview-image fig-align="center" fig-alt="Three calout boxes: A note (has a blue banner with info icon preceding the header), a tip (has a green banner with lightbulb icon preceding the header), and an important (has a red banner with info exclamation-point icon preceding the header)."}

## Callout Basics

There are five different types of callouts available.

-   note
-   tip
-   important
-   caution
-   warning

The color and icon will be different depending upon the type that you select.

## Syntax

Create callouts in markdown using the following syntax (note that the first markdown heading used within the callout is used as the callout heading):

``` markdown
:::{.callout-note}
Note that there are five types of callouts, including:
`note`, `tip`, `warning`, `caution`, and `important`.
:::

:::{.callout-tip}
## Tip With Caption

This is an example of a callout with a caption.
:::
```

See our documentation on [Callouts](/docs/authoring/callouts.qmd), to learn more, including more about how to customize the appearance and behavior of callouts.


# quarto-web/docs/blog/posts/2022-02-15-feature-tables/index.qmd

---
title: Customizing Table Output
subtitle: Author and customize markdown tables using Quarto
description: |
  This post provides an overview of these capabilities in Quarto. For more detail about all the features Quarto for authoring tables, see [Tables](/docs/authoring/tables.qmd).
categories:
  - Features
  - Authoring
  - Tables
author: JJ Allaire
date: "2/15/2022"
image: table.png
image-alt: "Table 1: Example. Has two subtables: Subtable a, Cars, with columns for speed and dist; and subtable b, Pressure, with columns for temperature and pressure."
---

Quarto includes a number of features aimed at making it easy to to author and customize markdown table output, including:

-   Specifying column alignment and widths.
-   Providing captions, subcaptions, and cross-references.
-   Generating tables dynamically from executable code cells.

This post provides an overview of these capabilities in Quarto. For more detail about all the features Quarto for authoring tables, see [Tables](/docs/authoring/tables.qmd).

## Markdown Tables

The most commonly used markdown table is known as a pipe table. Pipe tables support specifying per column alignment as well as captions. For example:

``` markdown
| Default | Left | Right | Center |
|---------|:-----|------:|:------:|
| 12      | 12   |    12 |   12   |
| 123     | 123  |   123 |  123   |
| 1       | 1    |     1 |   1    |

: Demonstration of pipe table sytnax
```

Here is the table rendered to HTML:

| Default | Left | Right | Center |
|---------|:-----|------:|:------:|
| 12      | 12   |    12 |   12   |
| 123     | 123  |   123 |  123   |
| 1       | 1    |     1 |   1    |

: Demonstration of pipe table syntax

#### Caption Location

By default, table captions are positioned above tables. You can modify this behavior using the `tbl-cap-location` option. For example:

``` yaml
---
tbl-cap-location: top
---
```

## Explicit Column Widths

Beyond standard pipe table syntax for expressing column width, you can also explicitly specify columns widths using the `tbl-colwidths` attribute or document-level option. For an individual markdown table, add the attribute after the caption. For example:

``` markdown
| fruit  | price  |
|--------|--------:
| apple  | 2.05   |
| pear   | 1.37   |
| orange | 3.09   |

: Fruit prices {tbl-colwidths="[75,25]"}
```

Note that this option is specified at the top level so that it can be shared by both PDF and HTML formats. If you are only targeting a single format you can place it alongside other `format` specific options.

Valid values for the caption location include:

| Value    | Description                           |
|----------|---------------------------------------|
| `top`    | Position the caption above the table. |
| `bottom` | Position the caption below the table. |
| `margin` | Position the caption in the margin.   |

## Computations

All of the options described above work for tables produced by executable code cells. For example, here we apply the `tbl-cap`, `tbl-colwidths` and `tbl-caption-location` options to a code cell:

```{{r}}
#| tbl-cap: "Cars"
#| tbl-colwidths: [60,40]
#| tbl-cap-location: margin

library(knitr)
kable(head(cars))
```

In addition to the above, which focused on some of the features of Quarto when writing pipe tables in markdown, you can also author tables using grid syntax. You review the [documentation](/docs/authoring/tables.qmd). for more detail.


# quarto-web/docs/blog/posts/2022-02-17-advanced-layout/index.qmd

---
title: Positioning Content in the Margin
subtitle: Create 'Tufte' style documents with sidenotes, margin tables and figures, and other margin content
description: |
  This post demonstrates a few of the capabilities for positioning content in the margin of the page. You can read more about the complete capabilities in the the [Article Layout Guide](/docs/authoring/article-layout.qmd).
author: Charles Teague
date: "2/17/2022"
categories:
  - Features
  - Layout
image: margin-content.png
image-alt: "Screenshot of two sections of post: Margin Figures, which has a plot in the margin; and Arbitrary Margin Content, which has text with a LaTeX equation in the margin."
reference-location: margin
citation-location: margin
---

Quarto supports a variety of page layout options that enable you to author content that

-   Fills the main content region
-   Overflows the content region
-   Spans the entire page
-   Occupies the document margin

This post will demonstrate a few of the capabilities for positioning content in the margin of the page. You can read more about the complete capabilities in the the [Article Layout Guide](/docs/authoring/article-layout.qmd).\

## Margin Figures

Figures that you create using code cells can be placed in the margin by using the `column: margin` code cell option. If the code produces more than one figure, each of the figures will be placed in the margin.

```{r}
#| label: fig-mtcars
#| fig-cap: "MPG vs horsepower, colored by transmission."
#| column: margin
#| echo: fenced

library(ggplot2)
mtcars2 <- mtcars
mtcars2$am <- factor(
  mtcars$am, labels = c('automatic', 'manual')
)
ggplot(mtcars2, aes(hp, mpg, color = am)) +
  geom_point() +
  geom_smooth(formula = y ~ x, method = "loess") +
  theme(legend.position = 'bottom')
```

## Margin Tables

You an also place tables in the margin of your document by specifying `column: margin`.

```{r}
#| column: margin
#| echo: fenced

knitr::kable(
  mtcars[1:3, 1:3]
)
```

## Other Content

You can also place content in the margin by targeting the margin column using a div with the .`column-margin` class. For example:

``` md
::: {.column-margin}
We know from *the first fundamental theorem of calculus* that for $x$ in $[a, b]$:

$$\frac{d}{dx}\left( \int_{a}^{x} f(u)\,du\right)=f(x).$$
:::
```

::: column-margin
We know from *the first fundamental theorem of calculus* that for $x$ in $[a, b]$:

$$\frac{d}{dx}\left( \int_{a}^{x} f(u)\,du\right)=f(x).$$
:::

## Margin References

Footnotes and the bibliography typically appear at the end of the document, but you can choose to have them placed in the margin by setting the following option\[\^1\] in the document front matter:

``` yaml
---
reference-location: margin
citation-location: margin
---
```

With these options set, footnotes and citations will (respectively) be automatically be placed in the margin of the document rather than the bottom of the page. As an example, when I cite @xie2018, the citation bibliography entry itself will now appear in the margin.

### Asides

Asides allow you to place content aside from the content it is placed in. Asides look like footnotes, but do not include the footnote mark (the superscript number). [This is a span that has the class `aside` which places it in the margin without a footnote number.]{.aside}

``` markdown
[This is a span that has the class aside which places it in the margin without a footnote number.]{.aside}
```

## Margin Captions

For figures and tables, you may leave the content in the body of the document while placing the caption in the margin of the document. Using `cap-location: margin` in a code cell or document front matter to control this. For example:

```{r}
#| label: fig-cap-margin
#| fig-cap: "MPG vs horsepower, colored by transmission."
#| cap-location: margin
#| echo: fenced

library(ggplot2)
mtcars2 <- mtcars
mtcars2$am <- factor(
  mtcars$am, labels = c('automatic', 'manual')
)
ggplot(mtcars2, aes(hp, mpg, color = am)) +
  geom_point() +
  geom_smooth(formula = y ~ x, method = "loess") +
  theme(legend.position = 'bottom')
```


# quarto-web/docs/blog/posts/2023-03-17-jupyter-cell-embedding/index.qmd

---
title: Jupyter Notebook Cell Embedding
subtitle: Embed output from an external Jupyter Notebook in a Quarto document
description: |
  Quarto 1.3 adds support for embedding cells from a Jupyter Notebook into a Quarto document via an `embed` shortcode. In HTML documents, links are automatically added that point to a rendered version of the external notebook.
categories:
  - Features
  - Authoring
  - Quarto 1.3
author: Charlotte Wickham
date: "03/17/2023"
image: embed.png
image-alt: "A screenshot of a Quarto page that includes a plot, below the plot is the phrase Source: penguins.ipynb."
---

{{< include ../_quarto-1.3-feature.qmd >}}

Starting in Quarto 1.3, you can include the output of an external Jupyter notebook in a Quarto document with the `embed` shortcode. To embed a notebook cell, provide the path to a Jupyter Notebook and a cell identifier. For example, this notebook called `penguins.ipynb` has a cell labelled `fig-bill-scatter`:

![](notebook-simple.png){fig-alt="A screenshot of a Jupyter Notebook with the name 'penguins.ipynb', with a cell highlighted that has the code chunk option label set to fig-bill-scatter. Below the cell is a plot that has been output."}

You can use the following shortcode to embed the output of this cell:

``` {.markdown shortcodes="false"}
{{< embed penguins.ipynb#fig-bill-scatter >}}
```

This will embed the plot as follows:

{{< embed penguins.ipynb#fig-bill-scatter >}}

A link to the source notebook is automatically provided beneath the plot. Following the link takes users to a rendered version of the notebook, allowing them to explore the notebook without having to download and run it locally. For example, clicking on the link to `penguins.ipynb` gets you to a page that looks like the following:

![](notebook-view.png){.border fig-alt="A screenshot of webpage with the title 'penguins.ipynb', a large blue button labelled 'Download Notebook', followed by the notebook contents."}

Beyond this basic usage, head to the [Jupyter Cell Embedding highlight docs](/docs/authoring/notebook-embed.qmd) to learn how to:

-   Specify cells in multiple ways, see [Specifying Cells](/docs/authoring/notebook-embed.qmd#specifying-cells).

-   Control the output using code cell options in the source Notebook, including things like figure captions, figure layout, and code display, see [Code Cell Options](/docs/authoring/notebook-embed.qmd#code-cell-options).

-   Include the cell code along with the output by adding an `echo` option to the shortcode, see [Embedding Code](/docs/authoring/notebook-embed.qmd#embedding-code).

-   Customize or exclude the link to the source notebook, see [Links to Source Notebooks](/docs/authoring/notebook-embed.qmd#linked-source-notebooks).


# quarto-web/docs/blog/posts/2023-03-20-confluence/index.qmd

---
title: Confluence Publishing
subtitle: Publish from Quarto to Confluence
description: |
  Quarto 1.3 adds support for publishing individual documents, and projects containing many documents to Atlassian Confluence.
categories:
  - Features
  - Authoring
  - Quarto 1.3
author: Charlotte Wickham
date: "03/20/2023"
image: confluence-logo-gradient-blue-attribution_rgb@2x.png
image-alt: "Atlassian Confluence Logo"
---

{{< include ../_quarto-1.3-feature.qmd >}}

[Atlassian Confluence](https://www.atlassian.com/software/confluence) is a publishing platform for supporting team collaboration. Confluence has a variety of hosting options which include both free and paid subscription plans.

Quarto 1.3 adds support for publishing individual documents, as well as projects composed of multiple documents into [Confluence Spaces](https://support.atlassian.com/confluence-cloud/docs/use-spaces-to-organize-your-work/).

::: {layout-ncol="2"}
![A Quarto Document](images/confluence-qmd.png){fig-alt="A screenshot of a Quarto document with the title Using R - Doc in the RStudio Editor."}

![Published to Confluence](images/confluence-page.png){fig-alt="A screenshot of a document with the title Using R - Doc in a Confluence Space."}
:::

::: {layout="[800,969]"}
![A Quarto Project](images/confluence-project.png){fig-alt="A screenshot of a Quarto project in VS Code. On the left in the Explorer, the project folder is called 'Guide-site', and contains folders 'authoring', and 'computation', along with some other files. A document from the folder 'python' inside the folder 'computations' with the title 'Using Python - site' is open in the Source Pane. "}

![Published to Confluence](images/confluence-site.png){fig-alt="A screenshot of Space in Confluence. On the left in the Sdiebar under Pages is a page called 'Guide-site'. Nested under this page are pages called 'authoring', and 'computation', along with some other pages. The 'computation' page item is expanded and shows a page called 'Using Python - site', nested under a page called 'python'. A page is displayed on the right with the title 'Using Python - site'"}
:::

Managing Confluence content with Quarto allows you to author content in Markdown, manage that content with your usual version control tools like Git and GitHub, and leverage Quarto's tools for including computational output.

<!-- Quick overview of key features: new format and project type, local preview, `quarto publish confluence`. -->

If you're curious about using Confluence Publishing for your own project, head to the [Confluence Publishing page](/docs/prerelease/1.3/confluence.html) of the pre-release highlights to learn more.


